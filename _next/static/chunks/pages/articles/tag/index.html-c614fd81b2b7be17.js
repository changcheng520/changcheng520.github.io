(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{797:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/tag/index.html",function(){return a(4053)}])},4053:function(e,t,a){"use strict";a.r(t);var s=a(5893),l=a(9008),n=a.n(l),r=a(1664),c=a.n(r),i=a(1163),o=a(1119),d=a(7725),u=a(5846),h=a(7294),g=a(1420),m=a.n(g),p=a(9669),x=a.n(p),_=a(8599),f=a(6603),j=a(3413),E=a(1560),N=a(5798);t.default=function(){let[e,t]=(0,h.useState)(!1),a=(0,i.useRouter)(),l=a.query.s,r="string"==typeof l?l.includes(" ")?l.split(" "):[l]:"",g=a.query.page,p=isNaN(g)?1:g,S=j.j,[y,A]=(0,h.useState)([]),[T,v]=(0,h.useState)(1),[R,b]=(0,h.useState)(parseFloat(g));function w(e){let t=e;return Array.isArray(r)&&r.forEach(e=>{let a=RegExp(e,"ig");t=t.replace(a,'<span style="background:yellow">'+e+"</span>")}),t}return(0,h.useEffect)(()=>{!function(e){let t=encodeURIComponent(e);x().get(m().THEME_SEARCH_POSTS_BY_TAG.replace("{DISPLAY_NUMBER}","0").replace("{PAGE_NUMBER}","0").replace("{ENABLE_STAT}","1").replace("{SEARCH_STR}",t)).then(e=>{if(200!==e.data.code||0===e.data.data.total){A([]);return}v(Math.ceil(e.data.data.total/S)),x().get(m().THEME_SEARCH_POSTS_BY_TAG.replace("{DISPLAY_NUMBER}",S).replace("{PAGE_NUMBER}",p).replace("{ENABLE_STAT}","0").replace("{SEARCH_STR}",t)).then(e=>{if(200!==e.data.code)return;let t=e.data,a=JSON.stringify(t),s=(0,E.matchAllFilesUrls)(a);s.forEach(e=>{let t=(0,N.renameFile)(e),s=RegExp(e,"g");a=a.replace(s,"/static-remote/files/".concat(t))}),t=JSON.parse(a);let l=t.data.filter(e=>{let t=e.categories_output,a=!0;return t.every(e=>{if(e.name.toLowerCase().includes("[work]"))return a=!1,!1}),a});A(l)})})}(l);let e=[],a=document.getElementsByTagName("img");for(let s=0;s<a.length;s++)e.push({url:a[s].src,type:"img"});(0,f.Z)(e,function(e){t(!0)}).then(function(){t(!1)}),b(parseFloat(g))},[g,l]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n(),{children:(0,s.jsx)("title",{children:"关键词:".concat(l,"  - 没位道")})}),(0,s.jsxs)("main",{className:"main-wrapper",children:[(0,s.jsx)(o.Z,{loadingFromPage:"".concat(e?"":"loaded")}),(0,s.jsx)(u.Z,{}),(0,s.jsx)("section",{className:"section section-padding",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:"col-md-8 offset-md-2",children:[(0,s.jsxs)("p",{className:"text-center d-block full-width p-3 pt-0",children:["关键词：",l]}),(0,s.jsx)("div",{className:"blog-container",children:y?y.map((e,t)=>(0,s.jsxs)("div",{className:"blog-grid",children:[(0,s.jsx)("h3",{className:"title",children:(0,s.jsx)(c(),{href:"/article/".concat(e.slug,".html"),dangerouslySetInnerHTML:{__html:w(e.title)}})}),(0,s.jsx)("div",{className:"info",children:(0,s.jsxs)("ul",{className:"blog-meta list-unstyled",children:[(0,s.jsxs)("li",{children:[e.date_month_e," ",e.date_day,", ",e.date_year]}),(0,s.jsx)("li",{children:e.categories_output?e.categories_output.map((t,a)=>a<e.categories_output.length-1?(0,s.jsxs)("span",{children:[t.name," ,"]},a):(0,s.jsx)("span",{children:t.name},a)):(0,s.jsx)(s.Fragment,{})})]})}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:w(e.excerpt)}})]},t)):(0,s.jsx)(s.Fragment,{children:"Loading..."})})]})}),T==g&&1==T?null:(0,s.jsx)("div",{className:"text-center text-md-left full-width",children:(0,s.jsx)(_.Z,{apiUrl:"/articles/tag/index.html?page={page}&s=".concat(l),gotoPageClickEvent:function(e){b(e)},pageRangeDisplayed:3,activePage:R,totalPages:T,previousLabel:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("i",{className:"fas fa-chevron-left"})}),nextLabel:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("i",{className:"fas fa-chevron-right"})}),firstLabel:!1,lastLabel:!1,align:"center",symmetry:!0,breakLabel:"..."})})]})}),(0,s.jsx)(d.Z,{})]})]})}}},function(e){e.O(0,[424,669,355,282,774,888,179],function(){return e(e.s=797)}),_N_E=e.O()}]);