/*!
 * jQuery UI 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(c,j){function k(a){return!c(a).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.9",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,
    NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=this;setTimeout(function(){c(d).focus();b&&b.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,
    "position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==j)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");
    if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(a,b){function d(f,g,l,m){c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,true))||0;if(l)g-=parseFloat(c.curCSS(f,
    "border"+this+"Width",true))||0;if(m)g-=parseFloat(c.curCSS(f,"margin"+this,true))||0});return g}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){if(f===j)return i["inner"+b].call(this);return this.each(function(){c(this).css(h,d(this,f)+"px")})};c.fn["outer"+b]=function(f,g){if(typeof f!=="number")return i["outer"+b].call(this,f);return this.each(function(){c(this).css(h,
    d(this,f,true,g)+"px")})}});c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){var b=a.nodeName.toLowerCase(),d=c.attr(a,"tabindex");if("area"===b){b=a.parentNode;d=b.name;if(!a.href||!d||b.nodeName.toLowerCase()!=="map")return false;a=c("img[usemap=#"+d+"]")[0];return!!a&&k(a)}return(/input|select|textarea|button|object/.test(b)?!a.disabled:"a"==b?a.href||!isNaN(d):!isNaN(d))&&k(a)},tabbable:function(a){var b=c.attr(a,"tabindex");return(isNaN(b)||b>=0)&&c(a).is(":focusable")}});
    c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=b.offsetHeight===100;c.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"});c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]])}},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&
    b[e][1].apply(a.element,d)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,b){if(c(a).css("overflow")==="hidden")return false;b=b&&b==="left"?"scrollLeft":"scrollTop";var d=false;if(a[b]>0)return true;a[b]=1;d=a[b]>0;a[b]=0;return d},isOverAxis:function(a,b,d){return a>b&&a<b+d},isOver:function(a,b,d,e,h,i){return c.ui.isOverAxis(a,d,h)&&c.ui.isOverAxis(b,e,i)}})}})(jQuery);
    
    /*!
     * jQuery UI Widget 1.8.9
     *
     * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
     * Dual licensed under the MIT or GPL Version 2 licenses.
     * http://jquery.org/license
     *
     * http://docs.jquery.com/UI/Widget
     */
    (function(b,j){if(b.cleanData){var k=b.cleanData;b.cleanData=function(a){for(var c=0,d;(d=a[c])!=null;c++)b(d).triggerHandler("remove");k(a)}}else{var l=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){if(!c)if(!a||b.filter(a,[this]).length)b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")});return l.call(b(this),a,c)})}}b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget}b.expr[":"][f]=function(h){return!!b.data(h,
    a)};b[e]=b[e]||{};b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g)};c=new c;c.options=b.extend(true,{},c.options);b[e][a].prototype=b.extend(true,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=typeof d==="string",f=Array.prototype.slice.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):d;if(e&&d.charAt(0)==="_")return h;
    e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;if(i!==g&&i!==j){h=i;return false}}):this.each(function(){var g=b.data(this,a);g?g.option(d||{})._init():b.data(this,a,new c(d,this))});return h}};b.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(true,{},this.options,
    this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},
    widget:function(){return this.element},option:function(a,c){var d=a;if(arguments.length===0)return b.extend({},this.options);if(typeof a==="string"){if(c===j)return this.options[a];d={};d[a]=c}this._setOptions(d);return this},_setOptions:function(a){var c=this;b.each(a,function(d,e){c._setOption(d,e)});return this},_setOption:function(a,c){this.options[a]=c;if(a==="disabled")this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},
    enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f]}}this.element.trigger(c,d);return!(b.isFunction(e)&&e.call(this.element[0],c,d)===false||c.isDefaultPrevented())}}})(jQuery);
    
    /*!
     * jQuery UI Mouse 1.8.9
     *
     * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
     * Dual licensed under the MIT or GPL Version 2 licenses.
     * http://jquery.org/license
     *
     * http://docs.jquery.com/UI/Mouse
     *
     * Depends:
     *	jquery.ui.widget.js
     */
    (function(c){c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(true===c.data(b.target,a.widgetName+".preventClickEvent")){c.removeData(b.target,a.widgetName+".preventClickEvent");b.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=
    a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var b=this,e=a.which==1,f=typeof this.options.cancel=="string"?c(a.target).parents().add(a.target).filter(this.options.cancel).length:false;if(!e||f||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=
    this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}this._mouseMoveDelegate=function(d){return b._mouseMove(d)};this._mouseUpDelegate=function(d){return b._mouseUp(d)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=true}},_mouseMove:function(a){if(c.browser.msie&&!(document.documentMode>=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);
    return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;a.target==this._mouseDownEvent.target&&c.data(a.target,this.widgetName+".preventClickEvent",
    true);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
    
    
    /*
     * jQuery UI Selectable 1.8.9
     *
     * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
     * Dual licensed under the MIT or GPL Version 2 licenses.
     * http://jquery.org/license
     *
     * http://docs.jquery.com/UI/Selectables
     *
     * Depends:
     *	jquery.ui.core.js
     *	jquery.ui.mouse.js
     *	jquery.ui.widget.js
     */
    (function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=false;var f;this.refresh=function(){f=e(c.options.filter,c.element[0]);f.each(function(){var d=e(this),b=d.offset();e.data(this,"selectable-item",{element:this,$element:d,left:b.left,top:b.top,right:b.left+d.outerWidth(),bottom:b.top+d.outerHeight(),startselected:false,selected:d.hasClass("ui-selected"),
    selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")})})};this.refresh();this.selectees=f.addClass("ui-selectee");this._mouseInit();this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(c){var f=this;this.opos=[c.pageX,
    c.pageY];if(!this.options.disabled){var d=this.options;this.selectees=e(d.filter,this.element[0]);this._trigger("start",c);e(d.appendTo).append(this.helper);this.helper.css({left:c.clientX,top:c.clientY,width:0,height:0});d.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var b=e.data(this,"selectable-item");b.startselected=true;if(!c.metaKey){b.$element.removeClass("ui-selected");b.selected=false;b.$element.addClass("ui-unselecting");b.unselecting=true;f._trigger("unselecting",
    c,{unselecting:b.element})}});e(c.target).parents().andSelf().each(function(){var b=e.data(this,"selectable-item");if(b){var g=!c.metaKey||!b.$element.hasClass("ui-selected");b.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting");b.unselecting=!g;b.selecting=g;(b.selected=g)?f._trigger("selecting",c,{selecting:b.element}):f._trigger("unselecting",c,{unselecting:b.element});return false}})}},_mouseDrag:function(c){var f=this;this.dragged=true;if(!this.options.disabled){var d=
    this.options,b=this.opos[0],g=this.opos[1],h=c.pageX,i=c.pageY;if(b>h){var j=h;h=b;b=j}if(g>i){j=i;i=g;g=j}this.helper.css({left:b,top:g,width:h-b,height:i-g});this.selectees.each(function(){var a=e.data(this,"selectable-item");if(!(!a||a.element==f.element[0])){var k=false;if(d.tolerance=="touch")k=!(a.left>h||a.right<b||a.top>i||a.bottom<g);else if(d.tolerance=="fit")k=a.left>b&&a.right<h&&a.top>g&&a.bottom<i;if(k){if(a.selected){a.$element.removeClass("ui-selected");a.selected=false}if(a.unselecting){a.$element.removeClass("ui-unselecting");
    a.unselecting=false}if(!a.selecting){a.$element.addClass("ui-selecting");a.selecting=true;f._trigger("selecting",c,{selecting:a.element})}}else{if(a.selecting)if(c.metaKey&&a.startselected){a.$element.removeClass("ui-selecting");a.selecting=false;a.$element.addClass("ui-selected");a.selected=true}else{a.$element.removeClass("ui-selecting");a.selecting=false;if(a.startselected){a.$element.addClass("ui-unselecting");a.unselecting=true}f._trigger("unselecting",c,{unselecting:a.element})}if(a.selected)if(!c.metaKey&&
    !a.startselected){a.$element.removeClass("ui-selected");a.selected=false;a.$element.addClass("ui-unselecting");a.unselecting=true;f._trigger("unselecting",c,{unselecting:a.element})}}}});return false}},_mouseStop:function(c){var f=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=false;d.startselected=false;f._trigger("unselected",c,{unselected:d.element})});e(".ui-selecting",this.element[0]).each(function(){var d=
    e.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=false;d.selected=true;d.startselected=true;f._trigger("selected",c,{selected:d.element})});this._trigger("stop",c);this.helper.remove();return false}});e.extend(e.ui.selectable,{version:"1.8.9"})})(jQuery);
    
    /*
     * jQuery UI Button 1.8.9
     *
     * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
     * Dual licensed under the MIT or GPL Version 2 licenses.
     * http://jquery.org/license
     *
     * http://docs.jquery.com/UI/Button
     *
     * Depends:
     *	jquery.ui.core.js
     *	jquery.ui.widget.js
     */
    (function(a){var g,i=function(b){a(":ui-button",b.target.form).each(function(){var c=a(this).data("button");setTimeout(function(){c.refresh()},1)})},h=function(b){var c=b.name,d=b.form,e=a([]);if(c)e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form});return e};a.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",
    i);if(typeof this.options.disabled!=="boolean")this.options.disabled=this.element.attr("disabled");this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var b=this,c=this.options,d=this.type==="checkbox"||this.type==="radio",e="ui-state-hover"+(!d?" ui-state-active":"");if(c.label===null)c.label=this.buttonElement.html();if(this.element.is(":disabled"))c.disabled=true;this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",
    function(){if(!c.disabled){a(this).addClass("ui-state-hover");this===g&&a(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){c.disabled||a(this).removeClass(e)}).bind("focus.button",function(){a(this).addClass("ui-state-focus")}).bind("blur.button",function(){a(this).removeClass("ui-state-focus")});d&&this.element.bind("change.button",function(){b.refresh()});if(this.type==="checkbox")this.buttonElement.bind("click.button",function(){if(c.disabled)return false;a(this).toggleClass("ui-state-active");
    b.buttonElement.attr("aria-pressed",b.element[0].checked)});else if(this.type==="radio")this.buttonElement.bind("click.button",function(){if(c.disabled)return false;a(this).addClass("ui-state-active");b.buttonElement.attr("aria-pressed",true);var f=b.element[0];h(f).not(f).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)});else{this.buttonElement.bind("mousedown.button",function(){if(c.disabled)return false;a(this).addClass("ui-state-active");
    g=this;a(document).one("mouseup",function(){g=null})}).bind("mouseup.button",function(){if(c.disabled)return false;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(f){if(c.disabled)return false;if(f.keyCode==a.ui.keyCode.SPACE||f.keyCode==a.ui.keyCode.ENTER)a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")});this.buttonElement.is("a")&&this.buttonElement.keyup(function(f){f.keyCode===a.ui.keyCode.SPACE&&a(this).click()})}this._setOption("disabled",
    c.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var b=this.element.is(":checked");b&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",b)}else this.buttonElement=
    this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||
    this.buttonElement.removeAttr("title");a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled")c?this.element.attr("disabled",true):this.element.removeAttr("disabled");this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b);if(this.type==="radio")h(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
    true):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false)});else if(this.type==="checkbox")this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
    c=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary;if(d.primary||d.secondary){b.addClass("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary"));d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>");d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>");if(!this.options.text){b.addClass(e?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary");
    this.hasTitle||b.attr("title",c)}}else b.addClass("ui-button-text-only")}}});a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c);a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},
    destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");a.Widget.prototype.destroy.call(this)}})})(jQuery);
    
    
    /*
     * jQuery UI Slider 1.8.9
     *
     * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
     * Dual licensed under the MIT or GPL Version 2 licenses.
     * http://jquery.org/license
     *
     * http://docs.jquery.com/UI/Slider
     *
     * Depends:
     *	jquery.ui.core.js
     *	jquery.ui.mouse.js
     *	jquery.ui.widget.js
     */
    (function(d){d.widget("ui.slider",d.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var b=this,a=this.options;this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");a.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");
    this.range=d([]);if(a.range){if(a.range===true){this.range=d("<div></div>");if(!a.values)a.values=[this._valueMin(),this._valueMin()];if(a.values.length&&a.values.length!==2)a.values=[a.values[0],a.values[0]]}else this.range=d("<div></div>");this.range.appendTo(this.element).addClass("ui-slider-range");if(a.range==="min"||a.range==="max")this.range.addClass("ui-slider-range-"+a.range);this.range.addClass("ui-widget-header")}d(".ui-slider-handle",this.element).length===0&&d("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");
    if(a.values&&a.values.length)for(;d(".ui-slider-handle",this.element).length<a.values.length;)d("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=d(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(c){c.preventDefault()}).hover(function(){a.disabled||d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")}).focus(function(){if(a.disabled)d(this).blur();
    else{d(".ui-slider .ui-state-focus").removeClass("ui-state-focus");d(this).addClass("ui-state-focus")}}).blur(function(){d(this).removeClass("ui-state-focus")});this.handles.each(function(c){d(this).data("index.ui-slider-handle",c)});this.handles.keydown(function(c){var e=true,f=d(this).data("index.ui-slider-handle"),h,g,i;if(!b.options.disabled){switch(c.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:e=
    false;if(!b._keySliding){b._keySliding=true;d(this).addClass("ui-state-active");h=b._start(c,f);if(h===false)return}break}i=b.options.step;h=b.options.values&&b.options.values.length?(g=b.values(f)):(g=b.value());switch(c.keyCode){case d.ui.keyCode.HOME:g=b._valueMin();break;case d.ui.keyCode.END:g=b._valueMax();break;case d.ui.keyCode.PAGE_UP:g=b._trimAlignValue(h+(b._valueMax()-b._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:g=b._trimAlignValue(h-(b._valueMax()-b._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(h===
    b._valueMax())return;g=b._trimAlignValue(h+i);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(h===b._valueMin())return;g=b._trimAlignValue(h-i);break}b._slide(c,f,g);return e}}).keyup(function(c){var e=d(this).data("index.ui-slider-handle");if(b._keySliding){b._keySliding=false;b._stop(c,e);b._change(c,e);d(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");
    this._mouseDestroy();return this},_mouseCapture:function(b){var a=this.options,c,e,f,h,g;if(a.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c=this._normValueFromMouse({x:b.pageX,y:b.pageY});e=this._valueMax()-this._valueMin()+1;h=this;this.handles.each(function(i){var j=Math.abs(c-h.values(i));if(e>j){e=j;f=d(this);g=i}});if(a.range===true&&this.values(1)===a.min){g+=1;f=d(this.handles[g])}if(this._start(b,
    g)===false)return false;this._mouseSliding=true;h._handleIndex=g;f.addClass("ui-state-active").focus();a=f.offset();this._clickOffset=!d(b.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:b.pageX-a.left-f.width()/2,top:b.pageY-a.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(b,g,c);return this._animateOff=true},_mouseStart:function(){return true},
    _mouseDrag:function(b){var a=this._normValueFromMouse({x:b.pageX,y:b.pageY});this._slide(b,this._handleIndex,a);return false},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(b){var a;
    if(this.orientation==="horizontal"){a=this.elementSize.width;b=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{a=this.elementSize.height;b=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}a=b/a;if(a>1)a=1;if(a<0)a=0;if(this.orientation==="vertical")a=1-a;b=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+a*b)},_start:function(b,a){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=
    this.values(a);c.values=this.values()}return this._trigger("start",b,c)},_slide:function(b,a,c){var e;if(this.options.values&&this.options.values.length){e=this.values(a?0:1);if(this.options.values.length===2&&this.options.range===true&&(a===0&&c>e||a===1&&c<e))c=e;if(c!==this.values(a)){e=this.values();e[a]=c;b=this._trigger("slide",b,{handle:this.handles[a],value:c,values:e});this.values(a?0:1);b!==false&&this.values(a,c,true)}}else if(c!==this.value()){b=this._trigger("slide",b,{handle:this.handles[a],
    value:c});b!==false&&this.value(c)}},_stop:function(b,a){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(a);c.values=this.values()}this._trigger("stop",b,c)},_change:function(b,a){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(a);c.values=this.values()}this._trigger("change",b,c)}},value:function(b){if(arguments.length){this.options.value=
    this._trimAlignValue(b);this._refreshValue();this._change(null,0)}return this._value()},values:function(b,a){var c,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(a);this._refreshValue();this._change(null,b)}if(arguments.length)if(d.isArray(arguments[0])){c=this.options.values;e=arguments[0];for(f=0;f<c.length;f+=1){c[f]=this._trimAlignValue(e[f]);this._change(null,f)}this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(b):this.value();
    else return this._values()},_setOption:function(b,a){var c,e=0;if(d.isArray(this.options.values))e=this.options.values.length;d.Widget.prototype._setOption.apply(this,arguments);switch(b){case "disabled":if(a){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case "orientation":this._detectOrientation();
    this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case "values":this._animateOff=true;this._refreshValue();for(c=0;c<e;c+=1)this._change(null,c);this._animateOff=false;break}},_value:function(){var b=this.options.value;return b=this._trimAlignValue(b)},_values:function(b){var a,c;if(arguments.length){a=this.options.values[b];
    return a=this._trimAlignValue(a)}else{a=this.options.values.slice();for(c=0;c<a.length;c+=1)a[c]=this._trimAlignValue(a[c]);return a}},_trimAlignValue:function(b){if(b<=this._valueMin())return this._valueMin();if(b>=this._valueMax())return this._valueMax();var a=this.options.step>0?this.options.step:1,c=(b-this._valueMin())%a;alignValue=b-c;if(Math.abs(c)*2>=a)alignValue+=c>0?a:-a;return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},
    _refreshValue:function(){var b=this.options.range,a=this.options,c=this,e=!this._animateOff?a.animate:false,f,h={},g,i,j,l;if(this.options.values&&this.options.values.length)this.handles.each(function(k){f=(c.values(k)-c._valueMin())/(c._valueMax()-c._valueMin())*100;h[c.orientation==="horizontal"?"left":"bottom"]=f+"%";d(this).stop(1,1)[e?"animate":"css"](h,a.animate);if(c.options.range===true)if(c.orientation==="horizontal"){if(k===0)c.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},a.animate);
    if(k===1)c.range[e?"animate":"css"]({width:f-g+"%"},{queue:false,duration:a.animate})}else{if(k===0)c.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},a.animate);if(k===1)c.range[e?"animate":"css"]({height:f-g+"%"},{queue:false,duration:a.animate})}g=f});else{i=this.value();j=this._valueMin();l=this._valueMax();f=l!==j?(i-j)/(l-j)*100:0;h[c.orientation==="horizontal"?"left":"bottom"]=f+"%";this.handle.stop(1,1)[e?"animate":"css"](h,a.animate);if(b==="min"&&this.orientation==="horizontal")this.range.stop(1,
    1)[e?"animate":"css"]({width:f+"%"},a.animate);if(b==="max"&&this.orientation==="horizontal")this.range[e?"animate":"css"]({width:100-f+"%"},{queue:false,duration:a.animate});if(b==="min"&&this.orientation==="vertical")this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},a.animate);if(b==="max"&&this.orientation==="vertical")this.range[e?"animate":"css"]({height:100-f+"%"},{queue:false,duration:a.animate})}}});d.extend(d.ui.slider,{version:"1.8.9"})})(jQuery);
    ;
    
    
    
    /*
     *
     * jqTransform
     * by mathieu vilaplana mvilaplana@dfc-e.com
     * Designer ghyslain armand garmand@dfc-e.com
     *
     *
     * Version 1.0 25.09.08
     * Version 1.1 06.08.09
     * Add event click on Checkbox and Radio
     * Auto calculate the size of a select element
     * Can now, disabled the elements
     * Correct bug in ff if click on select (overflow=hidden)
     * No need any more preloading !!
     * 
     ******************************************** */
     
    (function($){var defaultOptions={preloadImg:true};var jqTransformImgPreloaded=false;var jqTransformPreloadHoverFocusImg=function(strImgUrl){strImgUrl=strImgUrl.replace(/^url\((.*)\)/,'$1').replace(/^\"(.*)\"$/,'$1');var imgHover=new Image();imgHover.src=strImgUrl.replace(/\.([a-zA-Z]*)$/,'-hover.$1');var imgFocus=new Image();imgFocus.src=strImgUrl.replace(/\.([a-zA-Z]*)$/,'-focus.$1')};var jqTransformGetLabel=function(objfield){var selfForm=$(objfield.get(0).form);var oLabel=objfield.next();if(!oLabel.is('label')){oLabel=objfield.prev();if(oLabel.is('label')){var inputname=objfield.attr('id');if(inputname){oLabel=selfForm.find('label[for="'+inputname+'"]')}}}if(oLabel.is('label')){return oLabel.css('cursor','pointer')}return false};var jqTransformHideSelect=function(oTarget){var ulVisible=$('.jqTransformSelectWrapper ul:visible');ulVisible.each(function(){var oSelect=$(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);if(!(oTarget&&oSelect.oLabel&&oSelect.oLabel.get(0)==oTarget.get(0))){$(this).hide()}})};var jqTransformCheckExternalClick=function(event){if($(event.target).parents('.jqTransformSelectWrapper').length===0){jqTransformHideSelect($(event.target))}};var jqTransformAddDocumentListener=function(){$(document).mousedown(jqTransformCheckExternalClick)};var jqTransformReset=function(f){var sel;$('.jqTransformSelectWrapper select',f).each(function(){sel=(this.selectedIndex<0)?0:this.selectedIndex;$('ul',$(this).parent()).each(function(){$('a:eq('+sel+')',this).click()})});$('a.jqTransformCheckbox, a.jqTransformRadio',f).removeClass('jqTransformChecked');$('input:checkbox, input:radio',f).each(function(){if(this.checked){$('a',$(this).parent()).addClass('jqTransformChecked')}})};$.fn.jqTransInputButton=function(){return this.each(function(){var newBtn=$('<button id="'+this.id+'" name="'+this.name+'" type="'+this.type+'" class="'+this.className+' jqTransformButton"><span><span>'+$(this).attr('value')+'</span></span>').hover(function(){newBtn.addClass('jqTransformButton_hover')},function(){newBtn.removeClass('jqTransformButton_hover')}).mousedown(function(){newBtn.addClass('jqTransformButton_click')}).mouseup(function(){newBtn.removeClass('jqTransformButton_click')});$(this).replaceWith(newBtn)})};$.fn.jqTransInputText=function(){return this.each(function(){var $input=$(this);if($input.hasClass('jqtranformdone')||!$input.is('input')){return}$input.addClass('jqtranformdone');var oLabel=jqTransformGetLabel($(this));oLabel&&oLabel.bind('click',function(){$input.focus()});var inputSize=$input.width();if($input.attr('size')){inputSize=$input.attr('size')*10;$input.css('width',inputSize)}$input.addClass("jqTransformInput").wrap('<div class="jqTransformInputWrapper"><div class="jqTransformInputInner"><div></div></div></div>');var $wrapper=$input.parent().parent().parent();$wrapper.css("width",inputSize+10);$input.focus(function(){$wrapper.addClass("jqTransformInputWrapper_focus")}).blur(function(){$wrapper.removeClass("jqTransformInputWrapper_focus")}).hover(function(){$wrapper.addClass("jqTransformInputWrapper_hover")},function(){$wrapper.removeClass("jqTransformInputWrapper_hover")});$.browser.safari&&$wrapper.addClass('jqTransformSafari');$.browser.safari&&$input.css('width',$wrapper.width()+16);this.wrapper=$wrapper})};$.fn.jqTransCheckBox=function(){return this.each(function(){if($(this).hasClass('jqTransformHidden')){return}var $input=$(this);var inputSelf=this;var oLabel=jqTransformGetLabel($input);oLabel&&oLabel.click(function(){aLink.trigger('click')});var aLink=$('<a href="#" class="jqTransformCheckbox"></a>');$input.addClass('jqTransformHidden').wrap('<span class="jqTransformCheckboxWrapper"></span>').parent().prepend(aLink);$input.change(function(){this.checked&&aLink.addClass('jqTransformChecked')||aLink.removeClass('jqTransformChecked');return true});aLink.click(function(){if($input.attr('disabled')){return false}$input.trigger('click').trigger("change");return false});this.checked&&aLink.addClass('jqTransformChecked')})};$.fn.jqTransRadio=function(){return this.each(function(){if($(this).hasClass('jqTransformHidden')){return}var $input=$(this);var inputSelf=this;oLabel=jqTransformGetLabel($input);oLabel&&oLabel.click(function(){aLink.trigger('click')});var aLink=$('<a href="#" class="jqTransformRadio" rel="'+this.name+'"></a>');$input.addClass('jqTransformHidden').wrap('<span class="jqTransformRadioWrapper"></span>').parent().prepend(aLink);$input.change(function(){inputSelf.checked&&aLink.addClass('jqTransformChecked')||aLink.removeClass('jqTransformChecked');return true});aLink.click(function(){if($input.attr('disabled')){return false}$input.trigger('click').trigger('change');$('input[name="'+$input.attr('name')+'"]',inputSelf.form).not($input).each(function(){$(this).attr('type')=='radio'&&$(this).trigger('change')});return false});inputSelf.checked&&aLink.addClass('jqTransformChecked')})};$.fn.jqTransTextarea=function(){return this.each(function(){var textarea=$(this);if(textarea.hasClass('jqtransformdone')){return}textarea.addClass('jqtransformdone');oLabel=jqTransformGetLabel(textarea);oLabel&&oLabel.click(function(){textarea.focus()});var strTable='<table cellspacing="0" cellpadding="0" border="0" class="jqTransformTextarea">';strTable+='<tr><td id="jqTransformTextarea-tl"></td><td id="jqTransformTextarea-tm"></td><td id="jqTransformTextarea-tr"></td></tr>';strTable+='<tr><td id="jqTransformTextarea-ml">&nbsp;</td><td id="jqTransformTextarea-mm"><div></div></td><td id="jqTransformTextarea-mr">&nbsp;</td></tr>';strTable+='<tr><td id="jqTransformTextarea-bl"></td><td id="jqTransformTextarea-bm"></td><td id="jqTransformTextarea-br"></td></tr>';strTable+='</table>';var oTable=$(strTable).insertAfter(textarea).hover(function(){!oTable.hasClass('jqTransformTextarea-focus')&&oTable.addClass('jqTransformTextarea-hover')},function(){oTable.removeClass('jqTransformTextarea-hover')});textarea.focus(function(){oTable.removeClass('jqTransformTextarea-hover').addClass('jqTransformTextarea-focus')}).blur(function(){oTable.removeClass('jqTransformTextarea-focus')}).appendTo($('#jqTransformTextarea-mm div',oTable));this.oTable=oTable;if($.browser.safari){$('#jqTransformTextarea-mm',oTable).addClass('jqTransformSafariTextarea').find('div').css('height',textarea.height()).css('width',textarea.width())}})};$.fn.jqTransSelect=function(){return this.each(function(index){var $select=$(this);if($select.hasClass('jqTransformHidden')){return}if($select.attr('multiple')){return}var oLabel=jqTransformGetLabel($select);var $wrapper=$select.addClass('jqTransformHidden').wrap('<div class="jqTransformSelectWrapper"></div>').parent().css({zIndex:10-index});$wrapper.prepend('<div><span></span><a href="#" class="jqTransformSelectOpen"></a></div><ul></ul>');var $ul=$('ul',$wrapper).css('width',$select.width()).hide();$('option',this).each(function(i){var oLi=$('<li><a href="#" index="'+i+'">'+$(this).html()+'</a></li>');$ul.append(oLi)});$ul.find('a').click(function(){$('a.selected',$wrapper).removeClass('selected');$(this).addClass('selected');if($select[0].selectedIndex!=$(this).attr('index')&&$select[0].onchange){$select[0].selectedIndex=$(this).attr('index');$select[0].onchange()}$select[0].selectedIndex=$(this).attr('index');$('span:eq(0)',$wrapper).html($(this).html());$ul.hide();return false});$('a:eq('+this.selectedIndex+')',$ul).click();$('span:first',$wrapper).click(function(){$("a.jqTransformSelectOpen",$wrapper).trigger('click')});oLabel&&oLabel.click(function(){$("a.jqTransformSelectOpen",$wrapper).trigger('click')});this.oLabel=oLabel;var oLinkOpen=$('a.jqTransformSelectOpen',$wrapper).click(function(){if($ul.css('display')=='none'){jqTransformHideSelect()}if($select.attr('disabled')){return false}$ul.slideToggle('fast',function(){var offSet=($('a.selected',$ul).offset().top-$ul.offset().top);$ul.animate({scrollTop:offSet})});return false});var iSelectWidth=$select.outerWidth();var oSpan=$('span:first',$wrapper);var newWidth=(iSelectWidth>oSpan.innerWidth())?iSelectWidth+oLinkOpen.outerWidth():$wrapper.width();$wrapper.css('width',newWidth);$ul.css('width',newWidth-2);oSpan.css({width:iSelectWidth});$ul.css({display:'block',visibility:'hidden'});var iSelectHeight=($('li',$ul).length)*($('li:first',$ul).height());(iSelectHeight<$ul.height())&&$ul.css({height:iSelectHeight,'overflow':'hidden'});$ul.css({display:'none',visibility:'visible'})})};$.fn.jqTransform=function(options){var opt=$.extend({},defaultOptions,options);return this.each(function(){var selfForm=$(this);if(selfForm.hasClass('jqtransformdone')){return}selfForm.addClass('jqtransformdone');$('input:submit, input:reset, input[type="button"]',this).jqTransInputButton();$('input:text, input:password',this).jqTransInputText();$('input:checkbox',this).jqTransCheckBox();$('input:radio',this).jqTransRadio();$('textarea',this).jqTransTextarea();if($('select',this).jqTransSelect().length>0){jqTransformAddDocumentListener()}selfForm.bind('reset',function(){var action=function(){jqTransformReset(this)};window.setTimeout(action,10)})})}})(jQuery);
                       
    
    /*checkBox Effect*/
    (function(){var iOSCheckbox;var __slice=Array.prototype.slice;iOSCheckbox=(function(){function iOSCheckbox(elem,options){var key,opts,value;this.elem=$(elem);opts=$.extend({},iOSCheckbox.defaults,options);for(key in opts){value=opts[key];this[key]=value}this.elem.data(this.dataName,this);this.wrapCheckboxWithDivs();this.attachEvents();this.disableTextSelection();if(this.resizeHandle){this.optionallyResize('handle')}if(this.resizeContainer){this.optionallyResize('container')}this.initialPosition()}iOSCheckbox.prototype.isDisabled=function(){return this.elem.is(':disabled')};iOSCheckbox.prototype.wrapCheckboxWithDivs=function(){this.elem.wrap("<div class='"+this.containerClass+"' />");this.container=this.elem.parent();this.offLabel=$("<label class='"+this.labelOffClass+"'>\n  <span>"+this.uncheckedLabel+"</span>\n</label>").appendTo(this.container);this.offSpan=this.offLabel.children('span');this.onLabel=$("<label class='"+this.labelOnClass+"'>\n  <span>"+this.checkedLabel+"</span>\n</label>").appendTo(this.container);this.onSpan=this.onLabel.children('span');return this.handle=$("<div class='"+this.handleClass+"'>\n  <div class='"+this.handleRightClass+"'>\n    <div class='"+this.handleCenterClass+"' />\n  </div>\n</div>").appendTo(this.container)};iOSCheckbox.prototype.disableTextSelection=function(){if($.browser.msie){return $([this.handle,this.offLabel,this.onLabel,this.container]).attr("unselectable","on")}};iOSCheckbox.prototype._getDimension=function(elem,dimension){if($.fn.actual!=null){return elem.actual(dimension)}else{return elem[dimension]()}};iOSCheckbox.prototype.optionallyResize=function(mode){var newWidth,offLabelWidth,onLabelWidth;onLabelWidth=this._getDimension(this.onLabel,"width");offLabelWidth=this._getDimension(this.offLabel,"width");if(mode==="container"){newWidth=onLabelWidth>offLabelWidth?onLabelWidth:offLabelWidth;newWidth+=this._getDimension(this.handle,"width")+this.handleMargin;return this.container.css({width:newWidth})}else{newWidth=onLabelWidth>offLabelWidth?onLabelWidth:offLabelWidth;return this.handle.css({width:newWidth})}};iOSCheckbox.prototype.onMouseDown=function(event){var x;event.preventDefault();if(this.isDisabled()){return}x=event.pageX||event.originalEvent.changedTouches[0].pageX;iOSCheckbox.currentlyClicking=this.handle;iOSCheckbox.dragStartPosition=x;return iOSCheckbox.handleLeftOffset=parseInt(this.handle.css('left'),10)||0};iOSCheckbox.prototype.onDragMove=function(event,x){var newWidth,p;if(iOSCheckbox.currentlyClicking!==this.handle){return}p=(x+iOSCheckbox.handleLeftOffset-iOSCheckbox.dragStartPosition)/this.rightSide;if(p<0){p=0}if(p>1){p=1}newWidth=p*this.rightSide;this.handle.css({left:newWidth});this.onLabel.css({width:newWidth+this.handleRadius});this.offSpan.css({marginRight:-newWidth});return this.onSpan.css({marginLeft:-(1-p)*this.rightSide})};iOSCheckbox.prototype.onDragEnd=function(event,x){var p;if(iOSCheckbox.currentlyClicking!==this.handle){return}if(this.isDisabled()){return}if(iOSCheckbox.dragging){p=(x-iOSCheckbox.dragStartPosition)/this.rightSide;this.elem.prop('checked',p>=0.5)}else{this.elem.prop('checked',!this.elem.prop('checked'))}iOSCheckbox.currentlyClicking=null;iOSCheckbox.dragging=null;return this.didChange()};iOSCheckbox.prototype.refresh=function(){return this.didChange()};iOSCheckbox.prototype.didChange=function(){var new_left;if(typeof this.onChange==="function"){this.onChange(this.elem,this.elem.prop('checked'))}if(this.isDisabled()){this.container.addClass(this.disabledClass);return false}else{this.container.removeClass(this.disabledClass)}new_left=this.elem.prop('checked')?this.rightSide:0;this.handle.animate({left:new_left},this.duration);this.onLabel.animate({width:new_left+this.handleRadius},this.duration);this.offSpan.animate({marginRight:-new_left},this.duration);return this.onSpan.animate({marginLeft:new_left-this.rightSide},this.duration)};iOSCheckbox.prototype.attachEvents=function(){var localMouseMove,localMouseUp,self;self=this;localMouseMove=function(event){return self.onGlobalMove.apply(self,arguments)};localMouseUp=function(event){self.onGlobalUp.apply(self,arguments);$(document).unbind('mousemove touchmove',localMouseMove);return $(document).unbind('mouseup touchend',localMouseUp)};this.elem.change(function(){return self.refresh()});return this.container.bind('mousedown touchstart',function(event){self.onMouseDown.apply(self,arguments);$(document).bind('mousemove touchmove',localMouseMove);return $(document).bind('mouseup touchend',localMouseUp)})};iOSCheckbox.prototype.initialPosition=function(){var containerWidth,offset;containerWidth=this._getDimension(this.container,"width");this.offLabel.css({width:containerWidth-this.containerRadius});offset=this.containerRadius+1;if($.browser.msie&&$.browser.version<7){offset-=3}this.rightSide=containerWidth-this._getDimension(this.handle,"width")-offset;if(this.elem.is(':checked')){this.handle.css({left:this.rightSide});this.onLabel.css({width:this.rightSide+this.handleRadius});this.offSpan.css({marginRight:-this.rightSide})}else{this.onLabel.css({width:0});this.onSpan.css({marginLeft:-this.rightSide})}if(this.isDisabled()){return this.container.addClass(this.disabledClass)}};iOSCheckbox.prototype.onGlobalMove=function(event){var x;if(!(!this.isDisabled()&&iOSCheckbox.currentlyClicking)){return}event.preventDefault();x=event.pageX||event.originalEvent.changedTouches[0].pageX;if(!iOSCheckbox.dragging&&(Math.abs(iOSCheckbox.dragStartPosition-x)>this.dragThreshold)){iOSCheckbox.dragging=true}return this.onDragMove(event,x)};iOSCheckbox.prototype.onGlobalUp=function(event){var x;if(!iOSCheckbox.currentlyClicking){return}event.preventDefault();x=event.pageX||event.originalEvent.changedTouches[0].pageX;this.onDragEnd(event,x);return false};iOSCheckbox.defaults={duration:200,checkedLabel:'ON',uncheckedLabel:'OFF',resizeHandle:true,resizeContainer:true,disabledClass:'iPhoneCheckDisabled',containerClass:'iPhoneCheckContainer',labelOnClass:'iPhoneCheckLabelOn',labelOffClass:'iPhoneCheckLabelOff',handleClass:'iPhoneCheckHandle',handleCenterClass:'iPhoneCheckHandleCenter',handleRightClass:'iPhoneCheckHandleRight',dragThreshold:5,handleMargin:15,handleRadius:4,containerRadius:5,dataName:"iphoneStyle",onChange:function(){}};return iOSCheckbox})();$.iphoneStyle=this.iOSCheckbox=iOSCheckbox;$.fn.iphoneStyle=function(){var args,checkbox,dataName,existingControl,method,params,_i,_len,_ref,_ref2,_ref3,_ref4;args=1<=arguments.length?__slice.call(arguments,0):[];dataName=(_ref=(_ref2=args[0])!=null?_ref2.dataName:void 0)!=null?_ref:iOSCheckbox.defaults.dataName;_ref3=this.filter(':checkbox');for(_i=0,_len=_ref3.length;_i<_len;_i++){checkbox=_ref3[_i];existingControl=$(checkbox).data(dataName);if(existingControl!=null){method=args[0],params=2<=args.length?__slice.call(args,1):[];if((_ref4=existingControl[method])!=null){_ref4.apply(existingControl,params)}}else{new iOSCheckbox(checkbox,args[0])}}return this};$.fn.iOSCheckbox=function(options){var opts;if(options==null){options={}}opts=$.extend({},options,{resizeHandle:false,disabledClass:'iOSCheckDisabled',containerClass:'iOSCheckContainer',labelOnClass:'iOSCheckLabelOn',labelOffClass:'iOSCheckLabelOff',handleClass:'iOSCheckHandle',handleCenterClass:'iOSCheckHandleCenter',handleRightClass:'iOSCheckHandleRight',dataName:'iOSCheckbox'});return this.iphoneStyle(opts)}}).call(this);
    
    
    
    /*HTML5*/
    if(!document.createElement('canvas').getContext){(function(){var m=Math;var mr=m.round;var ms=m.sin;var mc=m.cos;var abs=m.abs;var sqrt=m.sqrt;var Z=10;var Z2=Z/2;function getContext(){return this.context_||(this.context_=new CanvasRenderingContext2D_(this));}
    var slice=Array.prototype.slice;function bind(f,obj,var_args){var a=slice.call(arguments,2);return function(){return f.apply(obj,a.concat(slice.call(arguments)));};}
    var G_vmlCanvasManager_={init:function(opt_doc){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var doc=opt_doc||document;doc.createElement('canvas');if(doc.readyState!=="complete"){doc.attachEvent('onreadystatechange',bind(this.init_,this,doc));}else{this.init_(doc);}}},init_:function(doc){if(!doc.namespaces['g_vml_']){doc.namespaces.add('g_vml_','urn:schemas-microsoft-com:vml','#default#VML');}
    if(!doc.namespaces['g_o_']){doc.namespaces.add('g_o_','urn:schemas-microsoft-com:office:office','#default#VML');}
    if(!doc.styleSheets['ex_canvas_']){var ss=doc.createStyleSheet();ss.owningElement.id='ex_canvas_';ss.cssText='canvas{display:inline-block;overflow:hidden;'+'text-align:left;width:300px;height:150px}'+'g_vml_\\:*{behavior:url(#default#VML)}'+'g_o_\\:*{behavior:url(#default#VML)}';}
    var els=doc.getElementsByTagName('canvas');for(var i=0;i<els.length;i++){this.initElement(els[i]);}},initElement:function(el){if(!el.getContext){el.getContext=getContext;el.innerHTML='';el.attachEvent('onpropertychange',onPropertyChange);el.attachEvent('onresize',onResize);var attrs=el.attributes;if(attrs.width&&attrs.width.specified){el.style.width=attrs.width.nodeValue+'px';}else{el.width=el.clientWidth;}
    if(attrs.height&&attrs.height.specified){el.style.height=attrs.height.nodeValue+'px';}else{el.height=el.clientHeight;}}
    return el;}};function onPropertyChange(e){var el=e.srcElement;switch(e.propertyName){case'width':el.style.width=el.attributes.width.nodeValue+'px';el.getContext().clearRect();break;case'height':el.style.height=el.attributes.height.nodeValue+'px';el.getContext().clearRect();break;}}
    function onResize(e){var el=e.srcElement;if(el.firstChild){el.firstChild.style.width=el.clientWidth+'px';el.firstChild.style.height=el.clientHeight+'px';}}
    G_vmlCanvasManager_.init();var dec2hex=[];for(var i=0;i<16;i++){for(var j=0;j<16;j++){dec2hex[i*16+j]=i.toString(16)+j.toString(16);}}
    function createMatrixIdentity(){return[[1,0,0],[0,1,0],[0,0,1]];}
    function matrixMultiply(m1,m2){var result=createMatrixIdentity();for(var x=0;x<3;x++){for(var y=0;y<3;y++){var sum=0;for(var z=0;z<3;z++){sum+=m1[x][z]*m2[z][y];}
    result[x][y]=sum;}}
    return result;}
    function copyState(o1,o2){o2.fillStyle=o1.fillStyle;o2.lineCap=o1.lineCap;o2.lineJoin=o1.lineJoin;o2.lineWidth=o1.lineWidth;o2.miterLimit=o1.miterLimit;o2.shadowBlur=o1.shadowBlur;o2.shadowColor=o1.shadowColor;o2.shadowOffsetX=o1.shadowOffsetX;o2.shadowOffsetY=o1.shadowOffsetY;o2.strokeStyle=o1.strokeStyle;o2.globalAlpha=o1.globalAlpha;o2.arcScaleX_=o1.arcScaleX_;o2.arcScaleY_=o1.arcScaleY_;o2.lineScale_=o1.lineScale_;}
    function processStyle(styleString){var str,alpha=1;styleString=String(styleString);if(styleString.substring(0,3)=='rgb'){var start=styleString.indexOf('(',3);var end=styleString.indexOf(')',start+1);var guts=styleString.substring(start+1,end).split(',');str='#';for(var i=0;i<3;i++){str+=dec2hex[Number(guts[i])];}
    if(guts.length==4&&styleString.substr(3,1)=='a'){alpha=guts[3];}}else{str=styleString;}
    return{color:str,alpha:alpha};}
    function processLineCap(lineCap){switch(lineCap){case'butt':return'flat';case'round':return'round';case'square':default:return'square';}}
    function CanvasRenderingContext2D_(surfaceElement){this.m_=createMatrixIdentity();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle='#000';this.fillStyle='#000';this.lineWidth=1;this.lineJoin='miter';this.lineCap='butt';this.miterLimit=Z*1;this.globalAlpha=1;this.canvas=surfaceElement;var el=surfaceElement.ownerDocument.createElement('div');el.style.width=surfaceElement.clientWidth+'px';el.style.height=surfaceElement.clientHeight+'px';el.style.overflow='hidden';el.style.position='absolute';surfaceElement.appendChild(el);this.element_=el;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1;}
    var contextPrototype=CanvasRenderingContext2D_.prototype;contextPrototype.clearRect=function(){this.element_.innerHTML='';};contextPrototype.beginPath=function(){this.currentPath_=[];};contextPrototype.moveTo=function(aX,aY){var p=this.getCoords_(aX,aY);this.currentPath_.push({type:'moveTo',x:p.x,y:p.y});this.currentX_=p.x;this.currentY_=p.y;};contextPrototype.lineTo=function(aX,aY){var p=this.getCoords_(aX,aY);this.currentPath_.push({type:'lineTo',x:p.x,y:p.y});this.currentX_=p.x;this.currentY_=p.y;};contextPrototype.bezierCurveTo=function(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY){var p=this.getCoords_(aX,aY);var cp1=this.getCoords_(aCP1x,aCP1y);var cp2=this.getCoords_(aCP2x,aCP2y);bezierCurveTo(this,cp1,cp2,p);};function bezierCurveTo(self,cp1,cp2,p){self.currentPath_.push({type:'bezierCurveTo',cp1x:cp1.x,cp1y:cp1.y,cp2x:cp2.x,cp2y:cp2.y,x:p.x,y:p.y});self.currentX_=p.x;self.currentY_=p.y;}
    contextPrototype.quadraticCurveTo=function(aCPx,aCPy,aX,aY){var cp=this.getCoords_(aCPx,aCPy);var p=this.getCoords_(aX,aY);var cp1={x:this.currentX_+2.0/3.0*(cp.x-this.currentX_),y:this.currentY_+2.0/3.0*(cp.y-this.currentY_)};var cp2={x:cp1.x+(p.x-this.currentX_)/3.0,y:cp1.y+(p.y-this.currentY_)/3.0};bezierCurveTo(this,cp1,cp2,p);};contextPrototype.arc=function(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){aRadius*=Z;var arcType=aClockwise?'at':'wa';var xStart=aX+mc(aStartAngle)*aRadius-Z2;var yStart=aY+ms(aStartAngle)*aRadius-Z2;var xEnd=aX+mc(aEndAngle)*aRadius-Z2;var yEnd=aY+ms(aEndAngle)*aRadius-Z2;if(xStart==xEnd&&!aClockwise){xStart+=0.125;}
    var p=this.getCoords_(aX,aY);var pStart=this.getCoords_(xStart,yStart);var pEnd=this.getCoords_(xEnd,yEnd);this.currentPath_.push({type:arcType,x:p.x,y:p.y,radius:aRadius,xStart:pStart.x,yStart:pStart.y,xEnd:pEnd.x,yEnd:pEnd.y});};contextPrototype.rect=function(aX,aY,aWidth,aHeight){this.moveTo(aX,aY);this.lineTo(aX+aWidth,aY);this.lineTo(aX+aWidth,aY+aHeight);this.lineTo(aX,aY+aHeight);this.closePath();};contextPrototype.strokeRect=function(aX,aY,aWidth,aHeight){var oldPath=this.currentPath_;this.beginPath();this.moveTo(aX,aY);this.lineTo(aX+aWidth,aY);this.lineTo(aX+aWidth,aY+aHeight);this.lineTo(aX,aY+aHeight);this.closePath();this.stroke();this.currentPath_=oldPath;};contextPrototype.fillRect=function(aX,aY,aWidth,aHeight){var oldPath=this.currentPath_;this.beginPath();this.moveTo(aX,aY);this.lineTo(aX+aWidth,aY);this.lineTo(aX+aWidth,aY+aHeight);this.lineTo(aX,aY+aHeight);this.closePath();this.fill();this.currentPath_=oldPath;};contextPrototype.createLinearGradient=function(aX0,aY0,aX1,aY1){var gradient=new CanvasGradient_('gradient');gradient.x0_=aX0;gradient.y0_=aY0;gradient.x1_=aX1;gradient.y1_=aY1;return gradient;};contextPrototype.createRadialGradient=function(aX0,aY0,aR0,aX1,aY1,aR1){var gradient=new CanvasGradient_('gradientradial');gradient.x0_=aX0;gradient.y0_=aY0;gradient.r0_=aR0;gradient.x1_=aX1;gradient.y1_=aY1;gradient.r1_=aR1;return gradient;};contextPrototype.drawImage=function(image,var_args){var dx,dy,dw,dh,sx,sy,sw,sh;var oldRuntimeWidth=image.runtimeStyle.width;var oldRuntimeHeight=image.runtimeStyle.height;image.runtimeStyle.width='auto';image.runtimeStyle.height='auto';var w=image.width;var h=image.height;image.runtimeStyle.width=oldRuntimeWidth;image.runtimeStyle.height=oldRuntimeHeight;if(arguments.length==3){dx=arguments[1];dy=arguments[2];sx=sy=0;sw=dw=w;sh=dh=h;}else if(arguments.length==5){dx=arguments[1];dy=arguments[2];dw=arguments[3];dh=arguments[4];sx=sy=0;sw=w;sh=h;}else if(arguments.length==9){sx=arguments[1];sy=arguments[2];sw=arguments[3];sh=arguments[4];dx=arguments[5];dy=arguments[6];dw=arguments[7];dh=arguments[8];}else{throw Error('Invalid number of arguments');}
    var d=this.getCoords_(dx,dy);var w2=sw/2;var h2=sh/2;var vmlStr=[];var W=10;var H=10;vmlStr.push(' <g_vml_:group',' coordsize="',Z*W,',',Z*H,'"',' coordorigin="0,0"',' style="width:',W,'px;height:',H,'px;position:absolute;');if(this.m_[0][0]!=1||this.m_[0][1]){var filter=[];filter.push('M11=',this.m_[0][0],',','M12=',this.m_[1][0],',','M21=',this.m_[0][1],',','M22=',this.m_[1][1],',','Dx=',mr(d.x/Z),',','Dy=',mr(d.y/Z),'');var max=d;var c2=this.getCoords_(dx+dw,dy);var c3=this.getCoords_(dx,dy+dh);var c4=this.getCoords_(dx+dw,dy+dh);max.x=m.max(max.x,c2.x,c3.x,c4.x);max.y=m.max(max.y,c2.y,c3.y,c4.y);vmlStr.push('padding:0 ',mr(max.x/Z),'px ',mr(max.y/Z),'px 0;filter:progid:DXImageTransform.Microsoft.Matrix(',filter.join(''),", sizingmethod='clip');")}else{vmlStr.push('top:',mr(d.y/Z),'px;left:',mr(d.x/Z),'px;');}
    vmlStr.push(' ">','<g_vml_:image src="',image.src,'"',' style="width:',Z*dw,'px;',' height:',Z*dh,'px;"',' cropleft="',sx/w,'"',' croptop="',sy/h,'"',' cropright="',(w-sx-sw)/w,'"',' cropbottom="',(h-sy-sh)/h,'"',' />','</g_vml_:group>');this.element_.insertAdjacentHTML('BeforeEnd',vmlStr.join(''));};contextPrototype.stroke=function(aFill){var lineStr=[];var lineOpen=false;var a=processStyle(aFill?this.fillStyle:this.strokeStyle);var color=a.color;var opacity=a.alpha*this.globalAlpha;var W=10;var H=10;lineStr.push('<g_vml_:shape',' filled="',!!aFill,'"',' style="position:absolute;width:',W,'px;height:',H,'px;"',' coordorigin="0 0" coordsize="',Z*W,' ',Z*H,'"',' stroked="',!aFill,'"',' path="');var newSeq=false;var min={x:null,y:null};var max={x:null,y:null};for(var i=0;i<this.currentPath_.length;i++){var p=this.currentPath_[i];var c;switch(p.type){case'moveTo':c=p;lineStr.push(' m ',mr(p.x),',',mr(p.y));break;case'lineTo':lineStr.push(' l ',mr(p.x),',',mr(p.y));break;case'close':lineStr.push(' x ');p=null;break;case'bezierCurveTo':lineStr.push(' c ',mr(p.cp1x),',',mr(p.cp1y),',',mr(p.cp2x),',',mr(p.cp2y),',',mr(p.x),',',mr(p.y));break;case'at':case'wa':lineStr.push(' ',p.type,' ',mr(p.x-this.arcScaleX_*p.radius),',',mr(p.y-this.arcScaleY_*p.radius),' ',mr(p.x+this.arcScaleX_*p.radius),',',mr(p.y+this.arcScaleY_*p.radius),' ',mr(p.xStart),',',mr(p.yStart),' ',mr(p.xEnd),',',mr(p.yEnd));break;}
    if(p){if(min.x==null||p.x<min.x){min.x=p.x;}
    if(max.x==null||p.x>max.x){max.x=p.x;}
    if(min.y==null||p.y<min.y){min.y=p.y;}
    if(max.y==null||p.y>max.y){max.y=p.y;}}}
    lineStr.push(' ">');if(!aFill){var lineWidth=this.lineScale_*this.lineWidth;if(lineWidth<1){opacity*=lineWidth;}
    lineStr.push('<g_vml_:stroke',' opacity="',opacity,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',processLineCap(this.lineCap),'"',' weight="',lineWidth,'px"',' color="',color,'" />');}else if(typeof this.fillStyle=='object'){var fillStyle=this.fillStyle;var angle=0;var focus={x:0,y:0};var shift=0;var expansion=1;if(fillStyle.type_=='gradient'){var x0=fillStyle.x0_/this.arcScaleX_;var y0=fillStyle.y0_/this.arcScaleY_;var x1=fillStyle.x1_/this.arcScaleX_;var y1=fillStyle.y1_/this.arcScaleY_;var p0=this.getCoords_(x0,y0);var p1=this.getCoords_(x1,y1);var dx=p1.x-p0.x;var dy=p1.y-p0.y;angle=Math.atan2(dx,dy)*180/Math.PI;if(angle<0){angle+=360;}
    if(angle<1e-6){angle=0;}}else{var p0=this.getCoords_(fillStyle.x0_,fillStyle.y0_);var width=max.x-min.x;var height=max.y-min.y;focus={x:(p0.x-min.x)/width,y:(p0.y-min.y)/height};width/=this.arcScaleX_*Z;height/=this.arcScaleY_*Z;var dimension=m.max(width,height);shift=2*fillStyle.r0_/dimension;expansion=2*fillStyle.r1_/dimension-shift;}
    var stops=fillStyle.colors_;stops.sort(function(cs1,cs2){return cs1.offset-cs2.offset;});var length=stops.length;var color1=stops[0].color;var color2=stops[length-1].color;var opacity1=stops[0].alpha*this.globalAlpha;var opacity2=stops[length-1].alpha*this.globalAlpha;var colors=[];for(var i=0;i<length;i++){var stop=stops[i];colors.push(stop.offset*expansion+shift+' '+stop.color);}
    lineStr.push('<g_vml_:fill type="',fillStyle.type_,'"',' method="none" focus="100%"',' color="',color1,'"',' color2="',color2,'"',' colors="',colors.join(','),'"',' opacity="',opacity2,'"',' g_o_:opacity2="',opacity1,'"',' angle="',angle,'"',' focusposition="',focus.x,',',focus.y,'" />');}else{lineStr.push('<g_vml_:fill color="',color,'" opacity="',opacity,'" />');}
    lineStr.push('</g_vml_:shape>');this.element_.insertAdjacentHTML('beforeEnd',lineStr.join(''));};contextPrototype.fill=function(){this.stroke(true);}
    contextPrototype.closePath=function(){this.currentPath_.push({type:'close'});};contextPrototype.getCoords_=function(aX,aY){var m=this.m_;return{x:Z*(aX*m[0][0]+aY*m[1][0]+m[2][0])-Z2,y:Z*(aX*m[0][1]+aY*m[1][1]+m[2][1])-Z2}};contextPrototype.save=function(){var o={};copyState(this,o);this.aStack_.push(o);this.mStack_.push(this.m_);this.m_=matrixMultiply(createMatrixIdentity(),this.m_);};contextPrototype.restore=function(){copyState(this.aStack_.pop(),this);this.m_=this.mStack_.pop();};function matrixIsFinite(m){for(var j=0;j<3;j++){for(var k=0;k<2;k++){if(!isFinite(m[j][k])||isNaN(m[j][k])){return false;}}}
    return true;}
    function setM(ctx,m,updateLineScale){if(!matrixIsFinite(m)){return;}
    ctx.m_=m;if(updateLineScale){var det=m[0][0]*m[1][1]-m[0][1]*m[1][0];ctx.lineScale_=sqrt(abs(det));}}
    contextPrototype.translate=function(aX,aY){var m1=[[1,0,0],[0,1,0],[aX,aY,1]];setM(this,matrixMultiply(m1,this.m_),false);};contextPrototype.rotate=function(aRot){var c=mc(aRot);var s=ms(aRot);var m1=[[c,s,0],[-s,c,0],[0,0,1]];setM(this,matrixMultiply(m1,this.m_),false);};contextPrototype.scale=function(aX,aY){this.arcScaleX_*=aX;this.arcScaleY_*=aY;var m1=[[aX,0,0],[0,aY,0],[0,0,1]];setM(this,matrixMultiply(m1,this.m_),true);};contextPrototype.transform=function(m11,m12,m21,m22,dx,dy){var m1=[[m11,m12,0],[m21,m22,0],[dx,dy,1]];setM(this,matrixMultiply(m1,this.m_),true);};contextPrototype.setTransform=function(m11,m12,m21,m22,dx,dy){var m=[[m11,m12,0],[m21,m22,0],[dx,dy,1]];setM(this,m,true);};contextPrototype.clip=function(){};contextPrototype.arcTo=function(){};contextPrototype.createPattern=function(){return new CanvasPattern_;};function CanvasGradient_(aType){this.type_=aType;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[];}
    CanvasGradient_.prototype.addColorStop=function(aOffset,aColor){aColor=processStyle(aColor);this.colors_.push({offset:aOffset,color:aColor.color,alpha:aColor.alpha});};function CanvasPattern_(){}
    G_vmlCanvasManager=G_vmlCanvasManager_;CanvasRenderingContext2D=CanvasRenderingContext2D_;CanvasGradient=CanvasGradient_;CanvasPattern=CanvasPattern_;})();}
    
    /*
     * --------------------------------------------------------------------
     * jQuery inputToButton plugin
     * Author: Scott Jehl, scott@filamentgroup.com
     * Copyright (c) 2009 Filament Group 
     * licensed under MIT (filamentgroup.com/examples/mit-license.txt)
     * --------------------------------------------------------------------
    */
    
    (function($){$.fn.visualize=function(options,container){return $(this).each(function(){var o=$.extend({type:'bar',width:$(this).width(),height:$(this).height(),appendTitle:true,title:null,appendKey:true,rowFilter:' ',colFilter:' ',colors:['#be1e2d','#666699','#92d5ea','#ee8310','#8d10ee','#5a3b16','#26a4ed','#f45a90','#e9e744'],textColors:[],parseDirection:'x',pieMargin:20,pieLabelsAsPercent:true,pieLabelPos:'inside',lineWeight:4,barGroupMargin:10,barMargin:1,yLabelInterval:30},options);o.width=parseFloat(o.width);o.height=parseFloat(o.height);var self=$(this);function scrapeTable(){var colors=o.colors;var textColors=o.textColors;var tableData={dataGroups:function(){var dataGroups=[];if(o.parseDirection=='x'){self.find('tr:gt(0)').filter(o.rowFilter).each(function(i){dataGroups[i]={};dataGroups[i].points=[];dataGroups[i].color=colors[i];if(textColors[i]){dataGroups[i].textColor=textColors[i];}
    $(this).find('td').filter(o.colFilter).each(function(){dataGroups[i].points.push(parseFloat($(this).text()));});});}
    else{var cols=self.find('tr:eq(1) td').filter(o.colFilter).size();for(var i=0;i<cols;i++){dataGroups[i]={};dataGroups[i].points=[];dataGroups[i].color=colors[i];if(textColors[i]){dataGroups[i].textColor=textColors[i];}
    self.find('tr:gt(0)').filter(o.rowFilter).each(function(){dataGroups[i].points.push($(this).find('td').filter(o.colFilter).eq(i).text()*1);});};}
    return dataGroups;},allData:function(){var allData=[];$(this.dataGroups()).each(function(){allData.push(this.points);});return allData;},dataSum:function(){var dataSum=0;var allData=this.allData().join(',').split(',');$(allData).each(function(){dataSum+=parseFloat(this);});return dataSum},topValue:function(){var topValue=0;var allData=this.allData().join(',').split(',');$(allData).each(function(){if(parseFloat(this,10)>topValue)topValue=parseFloat(this);});return topValue;},bottomValue:function(){var bottomValue=0;var allData=this.allData().join(',').split(',');$(allData).each(function(){if(this<bottomValue)bottomValue=parseFloat(this);});return bottomValue;},memberTotals:function(){var memberTotals=[];var dataGroups=this.dataGroups();$(dataGroups).each(function(l){var count=0;$(dataGroups[l].points).each(function(m){count+=dataGroups[l].points[m];});memberTotals.push(count);});return memberTotals;},yTotals:function(){var yTotals=[];var dataGroups=this.dataGroups();var loopLength=this.xLabels().length;for(var i=0;i<loopLength;i++){yTotals[i]=[];var thisTotal=0;$(dataGroups).each(function(l){yTotals[i].push(this.points[i]);});yTotals[i].join(',').split(',');$(yTotals[i]).each(function(){thisTotal+=parseFloat(this);});yTotals[i]=thisTotal;}
    return yTotals;},topYtotal:function(){var topYtotal=0;var yTotals=this.yTotals().join(',').split(',');$(yTotals).each(function(){if(parseFloat(this,10)>topYtotal)topYtotal=parseFloat(this);});return topYtotal;},totalYRange:function(){return this.topValue()-this.bottomValue();},xLabels:function(){var xLabels=[];if(o.parseDirection=='x'){self.find('tr:eq(0) th').filter(o.colFilter).each(function(){xLabels.push($(this).html());});}
    else{self.find('tr:gt(0) th').filter(o.rowFilter).each(function(){xLabels.push($(this).html());});}
    return xLabels;},yLabels:function(){var yLabels=[];yLabels.push(bottomValue);var numLabels=Math.round(o.height/o.yLabelInterval);var loopInterval=Math.ceil(totalYRange/numLabels)||1;while(yLabels[yLabels.length-1]<topValue-loopInterval){yLabels.push(yLabels[yLabels.length-1]+loopInterval);}
    yLabels.push(topValue);return yLabels;}};return tableData;};var createChart={pie:function(){canvasContain.addClass('visualize-pie');if(o.pieLabelPos=='outside'){canvasContain.addClass('visualize-pie-outside');}
    var centerx=Math.round(canvas.width()/2);var centery=Math.round(canvas.height()/2);var radius=centery-o.pieMargin;var counter=0.0;var toRad=function(integer){return(Math.PI/180)*integer;};var labels=$('<ul class="visualize-labels"></ul>').insertAfter(canvas);$.each(memberTotals,function(i){var fraction=(this<=0||isNaN(this))?0:this/dataSum;ctx.beginPath();ctx.moveTo(centerx,centery);ctx.arc(centerx,centery,radius,counter*Math.PI*2-Math.PI*0.5,(counter+fraction)*Math.PI*2-Math.PI*0.5,false);ctx.lineTo(centerx,centery);ctx.closePath();ctx.fillStyle=dataGroups[i].color;ctx.fill();var sliceMiddle=(counter+fraction/2);var distance=o.pieLabelPos=='inside'?radius/1.5:radius+radius/5;var labelx=Math.round(centerx+Math.sin(sliceMiddle*Math.PI*2)*(distance));var labely=Math.round(centery-Math.cos(sliceMiddle*Math.PI*2)*(distance));var leftRight=(labelx>centerx)?'right':'left';var topBottom=(labely>centery)?'bottom':'top';var percentage=parseFloat((fraction*100).toFixed(2));if(percentage){var labelval=(o.pieLabelsAsPercent)?percentage+'%':this;var labeltext=$('<span class="visualize-label">'+labelval+'</span>').css(leftRight,0).css(topBottom,0);if(labeltext)
    var label=$('<li class="visualize-label-pos"></li>').appendTo(labels).css({left:labelx,top:labely}).append(labeltext);labeltext.css('font-size',radius/8).css('margin-'+leftRight,-labeltext.width()/2).css('margin-'+topBottom,-labeltext.outerHeight()/2);if(dataGroups[i].textColor){labeltext.css('color',dataGroups[i].textColor);}}
    counter+=fraction;});},line:function(area){if(area){canvasContain.addClass('visualize-area');}
    else{canvasContain.addClass('visualize-line');}
    var xInterval=canvas.width()/(xLabels.length-1);var xlabelsUL=$('<ul class="visualize-labels-x"></ul>').width(canvas.width()).height(canvas.height()).insertBefore(canvas);$.each(xLabels,function(i){var thisLi=$('<li><span>'+this+'</span></li>').prepend('<span class="line" />').css('left',xInterval*i).appendTo(xlabelsUL);var label=thisLi.find('span:not(.line)');var leftOffset=label.width()/-2;if(i==0){leftOffset=0;}
    else if(i==xLabels.length-1){leftOffset=-label.width();}
    label.css('margin-left',leftOffset).addClass('label');});var yScale=canvas.height()/totalYRange;var liBottom=canvas.height()/(yLabels.length-1);var ylabelsUL=$('<ul class="visualize-labels-y"></ul>').width(canvas.width()).height(canvas.height()).insertBefore(canvas);$.each(yLabels,function(i){var thisLi=$('<li><span>'+this+'</span></li>').prepend('<span class="line"  />').css('bottom',liBottom*i).prependTo(ylabelsUL);var label=thisLi.find('span:not(.line)');var topOffset=label.height()/-2;if(i==0){topOffset=-label.height();}
    else if(i==yLabels.length-1){topOffset=0;}
    label.css('margin-top',topOffset).addClass('label');});ctx.translate(0,zeroLoc);$.each(dataGroups,function(h){ctx.beginPath();ctx.lineWidth=o.lineWeight;ctx.lineJoin='round';var points=this.points;var integer=0;ctx.moveTo(0,-(points[0]*yScale));$.each(points,function(){ctx.lineTo(integer,-(this*yScale));integer+=xInterval;});ctx.strokeStyle=this.color;ctx.stroke();if(area){ctx.lineTo(integer,0);ctx.lineTo(0,0);ctx.closePath();ctx.fillStyle=this.color;ctx.globalAlpha=.3;ctx.fill();ctx.globalAlpha=1.0;}
    else{ctx.closePath();}});},area:function(){createChart.line(true);},bar:function(){canvasContain.addClass('visualize-bar');var xInterval=canvas.width()/(xLabels.length);var xlabelsUL=$('<ul class="visualize-labels-x"></ul>').width(canvas.width()).height(canvas.height()).insertBefore(canvas);$.each(xLabels,function(i){var thisLi=$('<li><span class="label">'+this+'</span></li>').prepend('<span class="line" />').css('left',xInterval*i).width(xInterval).appendTo(xlabelsUL);var label=thisLi.find('span.label');label.addClass('label');});var yScale=canvas.height()/totalYRange;var liBottom=canvas.height()/(yLabels.length-1);var ylabelsUL=$('<ul class="visualize-labels-y"></ul>').width(canvas.width()).height(canvas.height()).insertBefore(canvas);$.each(yLabels,function(i){var thisLi=$('<li><span>'+this+'</span></li>').prepend('<span class="line"  />').css('bottom',liBottom*i).prependTo(ylabelsUL);var label=thisLi.find('span:not(.line)');var topOffset=label.height()/-2;if(i==0){topOffset=-label.height();}
    else if(i==yLabels.length-1){topOffset=0;}
    label.css('margin-top',topOffset).addClass('label');});ctx.translate(0,zeroLoc);for(var h=0;h<dataGroups.length;h++){ctx.beginPath();var linewidth=(xInterval-o.barGroupMargin*2)/dataGroups.length;var strokeWidth=linewidth-(o.barMargin*2);ctx.lineWidth=strokeWidth;var points=dataGroups[h].points;var integer=0;for(var i=0;i<points.length;i++){var xVal=(integer-o.barGroupMargin)+(h*linewidth)+linewidth/2;xVal+=o.barGroupMargin*2;ctx.moveTo(xVal,0);ctx.lineTo(xVal,Math.round(-points[i]*yScale));integer+=xInterval;}
    ctx.strokeStyle=dataGroups[h].color;ctx.stroke();ctx.closePath();}}};var canvasNode=document.createElement("canvas");canvasNode.setAttribute('height',o.height);canvasNode.setAttribute('width',o.width);var canvas=$(canvasNode);var title=o.title||self.find('caption').text();var canvasContain=(container||$('<div class="visualize" role="img" aria-label="Chart representing data from the table: '+title+'" />')).height(o.height).width(o.width).append(canvas);var tableData=scrapeTable();var dataGroups=tableData.dataGroups();var allData=tableData.allData();var dataSum=tableData.dataSum();var topValue=tableData.topValue();var bottomValue=tableData.bottomValue();var memberTotals=tableData.memberTotals();var totalYRange=tableData.totalYRange();var zeroLoc=o.height*(topValue/totalYRange);var xLabels=tableData.xLabels();var yLabels=tableData.yLabels();if(o.appendTitle||o.appendKey){var infoContain=$('<div class="visualize-info"></div>').appendTo(canvasContain);}
    if(o.appendTitle){$('<div class="visualize-title">'+title+'</div>').appendTo(infoContain);}
    if(o.appendKey){var newKey=$('<ul class="visualize-key"></ul>');var selector;if(o.parseDirection=='x'){selector=self.find('tr:gt(0) th').filter(o.rowFilter);}
    else{selector=self.find('tr:eq(0) th').filter(o.colFilter);}
    selector.each(function(i){$('<li><span class="visualize-key-color" style="background: '+dataGroups[i].color+'"></span><span class="visualize-key-label">'+$(this).text()+'</span></li>').appendTo(newKey);});newKey.appendTo(infoContain);};if(!container){canvasContain.insertAfter(this);}
    if(typeof(G_vmlCanvasManager)!='undefined'){G_vmlCanvasManager.init();G_vmlCanvasManager.initElement(canvas[0]);}
    var ctx=canvas[0].getContext('2d');createChart[o.type]();$('.visualize-line li:first-child span.line, .visualize-line li:last-child span.line, .visualize-area li:first-child span.line, .visualize-area li:last-child span.line, .visualize-bar li:first-child span.line,.visualize-bar .visualize-labels-y li:last-child span.line').css('border','none');if(!container){canvasContain.bind('visualizeRefresh',function(){self.visualize(o,$(this).empty());});}}).next();};})(jQuery);
    
    
    /*Color Selector*/
    (function($){var bigColorPicker=new function(){var currentPicker=null;var allColorArray=[];var sideLength=6;this.init=function(){$("body").append('<div id="bigpicker" class="bigpicker"><ul class="bigpicker-bgview-text" ><li><div id="bigBgshowDiv"></div></li><li><input id="bigHexColorText" size="7" maxlength="7" value="#000000" /></li></ul><div id="bigSections" class="bigpicker-sections-color"></div><div id="bigLayout" class="biglayout" ></div></div>');$("#bigLayout").hover(function(){$(this).show()},function(){$(this).hide()}).click(function(){$("#bigpicker").hide()});$("#bigHexColorText").keypress(function(){var text=$.trim($(this).val());$(this).val(text.replace(/[^A-Fa-f0-9#]/g,''));if(text.length<=0)return;text=text.charAt(0)=='#'?text:"#"+text;var countChar=7-text.length;if(countChar<0){text=text.substring(0,7)}else if(countChar>0){for(var i=0;i<countChar;i++){text+="0"}};$("#bigBgshowDiv").css("background",text)}).keyup(function(){var text=$.trim($(this).val());$(this).val(text.replace(/[^A-Fa-f0-9#]/g,''))}).focus(function(){this.select()});$(document).bind('mousedown',function(event){if(!($(event.target).parents().andSelf().is('#bigpicker'))){$("#bigpicker").hide()}})};this.showPicker=function(callback,engine,sideLength_){if($("body").length>0&&$("#bigpicker").length<=0){bigColorPicker.init()};var sl_=parseInt(sideLength_,10);if(engine=="L"&&!isNaN(sl_)&&sl_>=2&&sl_<=10){sideLength=sl_}else{sideLength=6};this.getAllColorArray=function(){allColorArray=new Array(sideLength*3+2);var mixColorArray=[];var blackWhiteGradientArray=gradientColor(new RGB(0,0,0),new RGB(255,255,255));for(var i=0;i<blackWhiteGradientArray.length;i++){mixColorArray[i]=blackWhiteGradientArray[i]};var baseArray=[new RGB(255,0,0),new RGB(0,255,0),new RGB(0,0,255),new RGB(255,255,0),new RGB(0,255,255),new RGB(255,0,255),new RGB(204,255,0),new RGB(153,0,255),new RGB(102,255,255),new RGB(51,0,0)];mixColorArray=mixColorArray.concat(baseArray.slice(0,sideLength));allColorArray[0]=mixColorArray;var blackArray=new Array(sideLength*2);for(var i=0;i<blackArray.length;i++){blackArray[i]=new RGB(0,0,0)};allColorArray[1]=blackArray;var cornerColorArray=new Array();cornerColorArray.push(generateBlockcornerColor(0),generateBlockcornerColor(51),generateBlockcornerColor(102),generateBlockcornerColor(153),generateBlockcornerColor(204),generateBlockcornerColor(255));var count=0;var halfOfAllArray1=[];var halfOfAllArray2=[];for(var i=0;i<cornerColorArray.length;i++){var startArray=gradientColor(cornerColorArray[i][0][0],cornerColorArray[i][0][1]);var endArray=gradientColor(cornerColorArray[i][1][0],cornerColorArray[i][1][1]);for(var j=0;j<sideLength;j++){if(i<3){halfOfAllArray1[count]=gradientColor(startArray[j],endArray[j])}else{halfOfAllArray2[count-sideLength*3]=gradientColor(startArray[j],endArray[j])};count++}};for(var i=0;i<halfOfAllArray1.length;i++){allColorArray[i+2]=halfOfAllArray1[i].concat(halfOfAllArray2[i])};for(var i=0;i<allColorArray.length;i++){for(var j=0;j<allColorArray[i].length;j++){allColorArray[i][j]=RGBToHex(allColorArray[i][j])}}};this.getAllColorArray();$(this).data("bigpickerCallback",callback);if(engine){try{engine=engine.toUpperCase()}catch(e){engine="P"}};if(engine=="L"){$("#bigSections").unbind("mousemove").unbind("mouseout").removeClass("bigpicker-bgimage");var ulArray=new Array();for(var i=0;i<sideLength*3+2;i++){ulArray.push("<ul>");for(var j=0;j<sideLength*2;j++){ulArray.push("<li data-color='"+allColorArray[i][j]+"' style='background-color: "+allColorArray[i][j]+";' ></li>")};ulArray.push("</ul>")};$("#bigSections").html(ulArray.join(""));var minBigpickerHeight=90;var minBigpickerWidth=129;var minSectionsHeight=minBigpickerHeight-29;var minSectionsWidth=minBigpickerWidth-1;var defaultSectionsWidth=(sideLength*3+2)*11+1;if(defaultSectionsWidth<minSectionsWidth){$("#bigSections li,#bigLayout").width(minSectionsWidth/(sideLength*3+2)-2).height(minSectionsHeight/(sideLength*2)-1);$("#bigpicker").height(minBigpickerHeight).width(minBigpickerWidth);$("#bigSections").height(minSectionsHeight).width(minSectionsWidth)}else{$("#bigSections").width(defaultSectionsWidth).height(sideLength*2*11);$("#bigpicker").width(defaultSectionsWidth+5).height(sideLength*2*11+29)};$("#bigSections ul").find("li:last").css("border-bottom","1px solid #000000");$("#bigSections ul:last li").css("border-right","1px solid #000000");$("#bigSections li").hover(function(){var $this=$(this);$("#bigLayout").css({"left":$this.position().left,"top":$this.position().top}).show();var cor=$this.attr("data-color");$("#bigBgshowDiv").css("background",cor);$("#bigHexColorText").val(cor);invokeCallBack(cor)},function(){$("#bigLayout").hide()})}else{var bgmage=new Image();bgmage.src="../images/big_bgcolor.jpg";$("#bigSections").height(134).width(222).addClass("bigpicker-bgimage").empty();$("#bigpicker").width(227).height(163);$("#bigSections").unbind("mousemove").unbind("mouseout").mousemove(function(event){var xSections=getSections(sideLength*3+2);var ySections=getSections(sideLength*3);var $this=$(this);var cursorXPos=event.pageX-$this.offset().left;var cursorYPos=event.pageY-$this.offset().top;var xi=0;var yi=0;for(var i=0;i<(sideLength*3+2);i++){if(cursorXPos>=xSections[i][0]&&cursorXPos<=xSections[i][1]){xi=i;break}};for(var i=0;i<(sideLength*3);i++){if(cursorYPos>=ySections[i][0]&&cursorYPos<=ySections[i][1]){yi=i;break}};$("#bigLayout").css({"left":$this.position().left+xi*11,"top":$this.position().top+yi*11}).show();var hex=allColorArray[xi][yi];$("#bigBgshowDiv").css("background",hex);$("#bigHexColorText").val(hex);invokeCallBack(hex)}).mouseout(function(){$("#bigLayout").hide()})};$(this).bind("click",function(event){currentPicker=event.currentTarget;$("#bigBgshowDiv").css("background","#000000");$("#bigHexColorText").val("#000000");var pos=calculatePosition($(currentPicker));$("#bigpicker").css({"left":pos.left+"px","top":pos.top+"px"}).fadeIn(300);var bigSectionsP=$("#bigSections").position();$("#bigLayout").css({"left":bigSectionsP.left,"top":bigSectionsP.top}).show()})};this.hidePicker=function(){$("#bigpicker").hide()};this.movePicker=function(){var pos=calculatePosition($(currentPicker));$("#bigpicker").css({"left":pos.left+"px","top":pos.top+"px"});$("#bigLayout").hide()};function calculatePosition($el){var offset=$el.offset();var compatMode=document.compatMode=='CSS1Compat';var w=compatMode?document.documentElement.clientWidth:document.body.clientWidth;var h=compatMode?document.documentElement.clientHeight:document.body.clientHeight;var pos={left:offset.left,top:offset.top+$el.height()+7};var $bigpicker=$("#bigpicker");if(offset.left+$bigpicker.width()>w){pos.left=offset.left-$bigpicker.width()-7;if(pos.left<0){pos.left=0}};if(offset.top+$el.height()+7+$bigpicker.height()>h){pos.top=offset.top-$bigpicker.height()-7;if(pos.top<0){pos.top=0}};return pos};function generateBlockcornerColor(r){var a=new Array(2);a[0]=[new RGB(r,0,0),new RGB(r,255,0)];a[1]=[new RGB(r,0,255),new RGB(r,255,255)];return a};function gradientColor(startColor,endColor){var gradientArray=[];gradientArray[0]=startColor;gradientArray[sideLength-1]=endColor;var averageR=Math.round((endColor.r-startColor.r)/sideLength);var averageG=Math.round((endColor.g-startColor.g)/sideLength);var averageB=Math.round((endColor.b-startColor.b)/sideLength);for(var i=1;i<sideLength-1;i++){gradientArray[i]=new RGB(startColor.r+i*averageR,startColor.g+i*averageG,startColor.b+i*averageB)};return gradientArray};function getSections(sl){var sections=new Array(sl);var initData=0;for(var i=0;i<sl;i++){var temp=initData+1;initData+=11;sections[i]=[temp,initData]};return sections};function RGBToHex(rgb){var hex="#";for(c in rgb){var h=rgb[c].toString(16).toUpperCase();if(h.length==1){hex+="0"+h}else{hex+=h}};return hex};function RGB(r,g,b){this.r=Math.max(Math.min(r,255),0);this.g=Math.max(Math.min(g,255),0);this.b=Math.max(Math.min(b,255),0)};function invokeCallBack(hex){var callback_=$(currentPicker).data("bigpickerCallback");if($.isFunction(callback_)){callback_(currentPicker,hex)}else if(callback_==undefined||callback_==""){$(currentPicker).val(hex)}else{if(callback_.charAt(0)!="#"){callback_="#"+callback_};$(callback_).val(hex)}}};$.fn.bigColorpicker=bigColorPicker.showPicker;$.fn.bigColorpickerMove=bigColorPicker.movePicker;$.fn.bigColorpickerHide=bigColorPicker.hidePicker})(jQuery);
    
    /*!
     * jquery-powerFloat.js
     * jQuery 万能浮动层插件
     */
    (function(a){a.fn.powerFloat=function(d){return a(this).each(function(){var f=a.extend({},b,d||{});var g=function(i,h){if(c.target&&c.target.css("display")!=="none"){c.targetHide()}c.s=i;c.trigger=h},e;switch(f.eventType){case"hover":a(this).hover(function(){if(c.timerHold){c.flagDisplay=true}var h=parseInt(f.showDelay,10);g(f,a(this));if(h){if(e){clearTimeout(e)}e=setTimeout(function(){c.targetGet.call(c)},h)}else{c.targetGet()}},function(){if(e){clearTimeout(e)}if(c.timerHold){clearTimeout(c.timerHold)}c.flagDisplay=false;c.targetHold()});if(f.hoverFollow){a(this).mousemove(function(h){c.cacheData.left=h.pageX;c.cacheData.top=h.pageY;c.targetGet.call(c);return false})}break;case"click":a(this).click(function(h){if(c.display&&c.trigger&&h.target===c.trigger.get(0)){c.flagDisplay=false;c.displayDetect()}else{g(f,a(this));c.targetGet();if(!a(document).data("mouseupBind")){a(document).bind("mouseup",function(k){var i=false;if(c.trigger){var j=c.target.attr("id");if(!j){j="R_"+Math.random();c.target.attr("id",j)}a(k.target).parents().each(function(){if(a(this).attr("id")===j){i=true}});if(f.eventType==="click"&&c.display&&k.target!=c.trigger.get(0)&&!i){c.flagDisplay=false;c.displayDetect()}}return false}).data("mouseupBind",true)}}});break;case"focus":a(this).focus(function(){var h=a(this);setTimeout(function(){g(f,h);c.targetGet()},200)}).blur(function(){c.flagDisplay=false;setTimeout(function(){c.displayDetect()},190)});break;default:g(f,a(this));c.targetGet();a(document).unbind("mouseup").data("mouseupBind",false)}})};var c={targetGet:function(){if(!this.trigger){return this}var h=this.trigger.attr(this.s.targetAttr),g=this.s.target;switch(this.s.targetMode){case"common":if(g){var i=typeof(g);if(i==="object"){if(g.size()){c.target=g.eq(0)}}else{if(i==="string"){if(a(g).size()){c.target=a(g).eq(0)}}}}else{if(h&&a("#"+h).size()){c.target=a("#"+h)}}if(c.target){c.targetShow()}else{return this}break;case"ajax":var d=g||h;this.targetProtect=false;if(!d){return}if(!c.cacheData[d]){c.loading()}var f=new Image();f.onload=function(){var m=f.width,q=f.height;var p=a(window).width(),s=a(window).height();var r=m/q,o=p/s;if(r>o){if(m>p/2){m=p/2;q=m/r}}else{if(q>s/2){q=s/2;m=q*r}}var n='<img class="float_ajax_image" src="'+d+'" width="'+m+'" height = "'+q+'" />';c.cacheData[d]=true;c.target=a(n);c.targetShow()};f.onerror=function(){if(/(\.jpg|\.png|\.gif|\.bmp|\.jpeg)$/i.test(d)){c.target=a('<div class="float_ajax_error">图片加载失败。</div>');c.targetShow()}else{a.ajax({url:d,success:function(m){if(typeof(m)==="string"){c.cacheData[d]=true;c.target=a('<div class="float_ajax_data">'+m+"</div>");c.targetShow()}},error:function(){c.target=a('<div class="float_ajax_error">数据没有加载成功。</div>');c.targetShow()}})}};f.src=d;break;case"list":var k='<ul class="float_list_ul">',j;if(a.isArray(g)&&(j=g.length)){a.each(g,function(n,p){var o="",r="",q,m;if(n===0){r=' class="float_list_li_first"'}if(n===j-1){r=' class="float_list_li_last"'}if(typeof(p)==="object"&&(q=p.text.toString())){if(m=(p.href||"javascript:")){o='<a href="'+m+'" class="float_list_a">'+q+"</a>"}else{o=q}}else{if(typeof(p)==="string"&&p){o=p}}if(o){k+="<li"+r+">"+o+"</li>"}})}else{k+='<li class="float_list_null">列表无数据。</li>'}k+="</ul>";c.target=a(k);this.targetProtect=false;c.targetShow();break;case"remind":var l=g||h;this.targetProtect=false;if(typeof(l)==="string"){c.target=a("<span>"+l+"</span>");c.targetShow()}break;default:var e=g||h,i=typeof(e);if(e){if(i==="string"){if(/<.*>/.test(e)){c.target=a("<div>"+e+"</div>");this.targetProtect=false}else{if(a(e).size()){c.target=a(e).eq(0);this.targetProtect=true}else{if(a("#"+e).size()){c.target=a("#"+e).eq(0);this.targetProtect=true}else{c.target=a("<div>"+e+"</div>");this.targetProtect=false}}}c.targetShow()}else{if(i==="object"){if(!a.isArray(e)&&e.size()){c.target=e.eq(0);this.targetProtect=true;c.targetShow()}}}}}return this},container:function(){var d=this.s.container,e=this.s.targetMode||"mode";if(e==="ajax"||e==="remind"){this.s.sharpAngle=true}else{this.s.sharpAngle=false}if(this.s.reverseSharp){this.s.sharpAngle=!this.s.sharpAngle}if(e!=="common"){if(d===null){d="plugin"}if(d==="plugin"){if(!a("#floatBox_"+e).size()){a('<div id="floatBox_'+e+'" class="float_'+e+'_box"></div>').appendTo(a("body")).hide()}d=a("#floatBox_"+e)}if(d&&typeof(d)!=="string"&&d.size()){if(this.targetProtect){c.target.show().css("position","static")}c.target=d.empty().append(c.target)}}return this},setWidth:function(){var d=this.s.width;if(d==="auto"){if(this.target.get(0).style.width){this.target.css("width","auto")}}else{if(d==="inherit"){this.target.width(this.trigger.width())}else{this.target.css("width",d)}}return this},position:function(){if(!this.trigger||!this.target){return this}var h,x=0,k=0,m=0,y=0,s,o,e,E,u,q,f=this.target.data("height"),C=this.target.data("width"),r=a(window).scrollTop(),B=parseInt(this.s.offsets.x,10)||0,A=parseInt(this.s.offsets.y,10)||0,w=this.cacheData;if(!f){f=this.target.outerHeight();if(this.s.hoverFollow){this.target.data("height",f)}}if(!C){C=this.target.outerWidth();if(this.s.hoverFollow){this.target.data("width",C)}}h=this.trigger.offset();x=this.trigger.outerHeight();k=this.trigger.outerWidth();s=h.left;o=h.top;var l=function(){if(s<0){s=0}else{if(s+x>a(window).width()){s=a(window).width()=x}}},i=function(){if(o<0){o=0}else{if(o+x>a(document).height()){o=a(document).height()-x}}};if(this.s.hoverFollow&&w.left&&w.top){if(this.s.hoverFollow==="x"){s=w.left;l()}else{if(this.s.hoverFollow==="y"){o=w.top;i()}else{s=w.left;o=w.top;l();i()}}}var g=["4-1","1-4","5-7","2-3","2-1","6-8","3-4","4-3","8-6","1-2","7-5","3-2"],v=this.s.position,d=false,j;a.each(g,function(F,G){if(G===v){d=true;return}});if(!d){v="4-1"}var D=function(F){var G="bottom";switch(F){case"1-4":case"5-7":case"2-3":G="top";break;case"2-1":case"6-8":case"3-4":G="right";break;case"1-2":case"8-6":case"4-3":G="left";break;case"4-1":case"7-5":case"3-2":G="bottom";break}return G};var n=function(F){if(F==="5-7"||F==="6-8"||F==="8-6"||F==="7-5"){return true}return false};var t=function(H){var I=0,F=0,G=(c.s.sharpAngle&&c.corner)?true:false;if(H==="right"){F=s+k+C+B;if(G){F+=c.corner.width()}if(F>a(window).width()){return false}}else{if(H==="bottom"){I=o+x+f+A;if(G){I+=c.corner.height()}if(I>r+a(window).height()){return false}}else{if(H==="top"){I=f+A;if(G){I+=c.corner.height()}if(I>o-r){return false}}else{if(H==="left"){F=C+B;if(G){F+=c.corner.width()}if(F>s){return false}}}}}return true};j=D(v);if(this.s.sharpAngle){this.createSharp(j)}if(this.s.edgeAdjust){if(t(j)){(function(){if(n(v)){return}var G={top:{right:"2-3",left:"1-4"},right:{top:"2-1",bottom:"3-4"},bottom:{right:"3-2",left:"4-1"},left:{top:"1-2",bottom:"4-3"}};var H=G[j],F;if(H){for(F in H){if(!t(F)){v=H[F]}}}})()}else{(function(){if(n(v)){var G={"5-7":"7-5","7-5":"5-7","6-8":"8-6","8-6":"6-8"};v=G[v]}else{var H={top:{left:"3-2",right:"4-1"},right:{bottom:"1-2",top:"4-3"},bottom:{left:"2-3",right:"1-4"},left:{bottom:"2-1",top:"3-4"}};var I=H[j],F=[];for(name in I){F.push(name)}if(t(F[0])||!t(F[1])){v=I[F[0]]}else{v=I[F[1]]}}})()}}var z=D(v),p=v.split("-")[0];if(this.s.sharpAngle){this.createSharp(z);m=this.corner.width(),y=this.corner.height()}if(this.s.hoverFollow){if(this.s.hoverFollow==="x"){e=s+B;if(p==="1"||p==="8"||p==="4"){e=s-(C-k)/2+B}else{e=s-(C-k)+B}if(p==="1"||p==="5"||p==="2"){E=o-A-f-y;q=o-y-A-1}else{E=o+x+A+y;q=o+x+A+1}u=h.left-(m-k)/2}else{if(this.s.hoverFollow==="y"){if(p==="1"||p==="5"||p==="2"){E=o-(f-x)/2+A}else{E=o-(f-x)+A}if(p==="1"||p==="8"||p==="4"){e=s-C-B-m;u=s-m-B-1}else{e=s+k-B+m;u=s+k+B+1}q=h.top-(y-x)/2}else{e=s+B;E=o+A}}}else{switch(z){case"top":E=o-A-f-y;if(p=="1"){e=s-B}else{if(p==="5"){e=s-(C-k)/2-B}else{e=s-(C-k)-B}}q=o-y-A-1;u=s-(m-k)/2;break;case"right":e=s+k+B+m;if(p=="2"){E=o+A}else{if(p==="6"){E=o-(f-x)/2+A}else{E=o-(f-x)+A}}u=s+k+B+1;q=o-(y-x)/2;break;case"bottom":E=o+x+A+y;if(p=="4"){e=s+B}else{if(p==="7"){e=s-(C-k)/2+B}else{e=s-(C-k)+B}}q=o+x+A+1;u=s-(m-k)/2;break;case"left":e=s-C-B-m;if(p=="2"){E=o-A}else{if(p==="6"){E=o-(C-k)/2-A}else{E=o-(f-x)-A}}u=e+m;q=o-(C-m)/2;break}}if(y&&m&&this.corner){this.corner.css({left:u,top:q,zIndex:this.s.zIndex+1})}this.target.css({position:"absolute",left:e,top:E,zIndex:this.s.zIndex});return this},createSharp:function(g){var j,k,f="",d="";var i={left:"right",right:"left",bottom:"top",top:"bottom"},e=i[g]||"top";if(this.target){j=this.target.css("background-color");if(parseInt(this.target.css("border-"+e+"-width"))>0){k=this.target.css("border-"+e+"-color")}if(k&&k!=="transparent"){f='style="color:'+k+';"'}else{f='style="display:none;"'}if(j&&j!=="transparent"){d='style="color:'+j+';"'}else{d='style="display:none;"'}}var h='<div id="floatCorner_'+g+'" class="float_corner float_corner_'+g+'"><span class="corner corner_1" '+f+'>◆</span><span class="corner corner_2" '+d+">◆</span></div>";if(!a("#floatCorner_"+g).size()){a("body").append(a(h))}this.corner=a("#floatCorner_"+g);return this},targetHold:function(){if(this.s.hoverHold){var d=parseInt(this.s.hideDelay,10)||200;if(this.target){this.target.hover(function(){c.flagDisplay=true},function(){if(c.timerHold){clearTimeout(c.timerHold)}c.flagDisplay=false;c.targetHold()})}c.timerHold=setTimeout(function(){c.displayDetect.call(c)},d)}else{this.displayDetect()}return this},loading:function(){this.target=a('<div class="float_loading"></div>');this.targetShow();this.target.removeData("width").removeData("height");return this},displayDetect:function(){if(!this.flagDisplay&&this.display){this.targetHide();this.timerHold=null}return this},targetShow:function(){c.cornerClear();this.display=true;this.container().setWidth().position();this.target.show();if(a.isFunction(this.s.showCall)){this.s.showCall.call(this.trigger,this.target)}return this},targetHide:function(){this.display=false;this.targetClear();this.cornerClear();if(a.isFunction(this.s.hideCall)){this.s.hideCall.call(this.trigger)}this.target=null;this.trigger=null;this.s={};this.targetProtect=false;return this},targetClear:function(){if(this.target){if(this.target.data("width")){this.target.removeData("width").removeData("height")}if(this.targetProtect){this.target.children().hide().appendTo(a("body"))}this.target.unbind().hide()}},cornerClear:function(){if(this.corner){this.corner.remove()}},target:null,trigger:null,s:{},cacheData:{},targetProtect:false};a.powerFloat={};a.powerFloat.hide=function(){c.targetHide()};var b={width:"auto",offsets:{x:0,y:0},zIndex:999,eventType:"hover",showDelay:0,hideDelay:0,hoverHold:true,hoverFollow:false,targetMode:"common",target:null,targetAttr:"rel",container:null,reverseSharp:false,position:"4-1",edgeAdjust:true,showCall:a.noop,hideCall:a.noop}})(jQuery);
    
    
    