/*
  -  Project:DS.parallax.js  Ver1.0
  -  Required: jquery.easing.js,jquery.mousewheel.js
  -  Design: xizon  https://www.c945.com  
  -  Email: xizon@c945.com
  -  This Plugin is DS plugin.

*/
/*
    @Parameter & Usage:
	
	
	@Javascript code:
	
	
		$(function () {
			
			$(".parallax-div-1").DS_parallax({
				"scrollWarpper": $('#wrapper'), //Parallax wrapper id
				"moveDirectionNum": 1, //On the contrary parallax then the value is "-1"
				"speed":2.8, //Value: 0 ¡« 10  £¨The smaller,the faster£©
				"animDuration":2000,  //Move speed
				"scrollType":"vertical",  // Value: vertical,horizontal
				"moveDirection":"top",  //Value: top,left,top-left
				"easing":"easeOutCubic", //Value: swing,easeInOutCirc,easeOutQuad,easeOutSine,easeInBounce,easeOutBack,easeInOutExpo
				"tileNumSet":20000, //Easing page tile
				"scrollDistance":75,  //The height of each roll,when the "mouseWheelTo" value is "true"
				"mouseWheelTo": true //Whether to use the wheel to scroll the page ¡¾Scroll the page¡¿
		
			});
		
		});
	
	
	
	-----------------------------------------------

	
	@HTML code:
	
	    <div id="wrapper">
		    
			<div class="pdiv parallax-div-1">
			
			    The page code....
				
			</div>
			
			<div class="pdiv parallax-div-2">
			
			    The page code....
				
			</div>
		    
		
		</div>
	
	
	
	
*/


(function($){$.fn.DS_parallax=function(options){var settings=$.extend({"scrollWarpper":$(window),"moveDirectionNum":1,"moveDirection":"top","speed":0.5,"animDuration":200,"scrollType":"vertical","easing":"linear","tileNumSet":20000,"scrollDistance":15,"mouseWheelTo":true},options);this.each(function(){var $this=$(this),$speed=settings.speed,$eType=settings.eType,$scrollType=settings.scrollType,$easing=settings.easing,$animDuration=settings.animDuration,$moveDirection=settings.moveDirection,$scrollWarpper=settings.scrollWarpper,$tileNumSet=settings.tileNumSet,$scrollDistance=settings.scrollDistance,$moveDirectionNum=settings.moveDirectionNum,$mouseWheelTo=settings.mouseWheelTo;var _scrollWarpper=$scrollWarpper;var ss1=0,ss2=0;if($scrollType=="vertical"){_scrollWarpper.bind('scroll',function(){var layer=calcParallax($tileNumSet,$speed,_scrollWarpper.scrollTop());ss1=_scrollWarpper.scrollTop();if((Math.abs(ss1-ss2))>10){if($moveDirection=="top"){$this.animate({marginTop:layer*$moveDirectionNum+"px"},{queue:false,duration:$animDuration,"easing":$easing})};if($moveDirection=="left"){$this.animate({marginLeft:layer*$moveDirectionNum+"px"},{queue:false,duration:$animDuration,"easing":$easing})};if($moveDirection=="top-left"){$this.animate({marginTop:layer*$moveDirectionNum+"px",marginLeft:layer*$moveDirectionNum+"px"},{queue:false,duration:$animDuration,"easing":$easing})}};ss2=_scrollWarpper.scrollTop()});function calcParallax($tileNumSet,speedratio,scrollposition){return(($tileNumSet-(Math.floor(scrollposition/speedratio)%($tileNumSet+1)))-$tileNumSet)};if($mouseWheelTo==true){_scrollWarpper.bind('mousewheel',function(event,delta){if(delta<0)_scrollWarpper.scrollTop(_scrollWarpper.scrollTop()+$scrollDistance);else if(delta>0)_scrollWarpper.scrollTop(_scrollWarpper.scrollTop()-$scrollDistance);return false})}}else{_scrollWarpper.bind('scroll',function(){var layer=calcParallax($tileNumSet,$speed,_scrollWarpper.scrollLeft());ss1=_scrollWarpper.scrollLeft();if((Math.abs(ss1-ss2))>10){if($moveDirection=="top"){$this.animate({marginTop:layer*$moveDirectionNum+"px"},{queue:false,duration:$animDuration,"easing":$easing})};if($moveDirection=="left"){$this.animate({marginLeft:layer*$moveDirectionNum+"px"},{queue:false,duration:$animDuration,"easing":$easing})};if($moveDirection=="top-left"){$this.animate({marginTop:layer*$moveDirectionNum+"px",marginLeft:layer*$moveDirectionNum+"px"},{queue:false,duration:$animDuration,"easing":$easing})}};ss2=_scrollWarpper.scrollLeft()});function calcParallax($tileNumSet,speedratio,scrollposition){return(($tileNumSet-(Math.floor(scrollposition/speedratio)%($tileNumSet+1)))-$tileNumSet)};if($mouseWheelTo==true){_scrollWarpper.bind('mousewheel',function(event,delta){if(delta<0)_scrollWarpper.scrollLeft(_scrollWarpper.scrollLeft()+$scrollDistance);else if(delta>0)_scrollWarpper.scrollLeft(_scrollWarpper.scrollLeft()-$scrollDistance);return false})}}})}})(jQuery);